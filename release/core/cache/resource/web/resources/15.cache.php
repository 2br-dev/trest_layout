<?php  return array (
  'resourceClass' => 'modDocument',
  'resource' => 
  array (
    'id' => 15,
    'type' => 'document',
    'contentType' => 'text/html',
    'pagetitle' => 'Каб. 9',
    'longtitle' => '9',
    'description' => '',
    'alias' => 'room9',
    'alias_visible' => 1,
    'link_attributes' => '',
    'published' => 1,
    'pub_date' => 0,
    'unpub_date' => 0,
    'parent' => 6,
    'isfolder' => 0,
    'introtext' => '',
    'content' => '',
    'richtext' => 1,
    'template' => 3,
    'menuindex' => 9,
    'searchable' => 1,
    'cacheable' => 1,
    'createdby' => 1,
    'createdon' => 1636980389,
    'editedby' => 1,
    'editedon' => 1637907379,
    'deleted' => 0,
    'deletedon' => 0,
    'deletedby' => 0,
    'publishedon' => 1636980360,
    'publishedby' => 1,
    'menutitle' => '',
    'donthit' => 0,
    'privateweb' => 0,
    'privatemgr' => 0,
    'content_dispo' => 0,
    'hidemenu' => 0,
    'class_key' => 'modDocument',
    'context_key' => 'web',
    'content_type' => 1,
    'uri' => 'аренда/floor0/room9.html',
    'uri_override' => 0,
    'hide_children_in_tree' => 0,
    'show_in_tree' => 1,
    'properties' => NULL,
    'width' => 
    array (
      0 => 'width',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'height' => 
    array (
      0 => 'height',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'depth' => 
    array (
      0 => 'depth',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'area' => 
    array (
      0 => 'area',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'plan' => 
    array (
      0 => 'plan',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'image',
    ),
    'isRented' => 
    array (
      0 => 'isRented',
      1 => 'rented',
      2 => 'default',
      3 => NULL,
      4 => 'checkbox',
    ),
    'gallery' => 
    array (
      0 => 'gallery',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'migx',
    ),
    'name' => 
    array (
      0 => 'name',
      1 => 'DNS',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'tv_src' => 
    array (
      0 => 'tv_src',
      1 => '',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'phone' => 
    array (
      0 => 'phone',
      1 => '+79284461830',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'website' => 
    array (
      0 => 'website',
      1 => 'https://www.dns-shop.ru/',
      2 => 'default',
      3 => NULL,
      4 => 'text',
    ),
    'logo' => 
    array (
      0 => 'logo',
      1 => 'dns/logo.svg',
      2 => 'default',
      3 => NULL,
      4 => 'image',
    ),
    'timing' => 
    array (
      0 => 'timing',
      1 => '[["пн-пт","09:00-18:00"],["сб-вс","выходной"],["обед","13:00-14:00"]]',
      2 => 'default',
      3 => NULL,
      4 => 'table',
    ),
    '_content' => '<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Трест® || Цоколь, Каб. 9</title>
<link rel="stylesheet" href="/css/master.css">
<link href=\'https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css\' rel=\'stylesheet\' />

</head>
<body>
    <header>
    <div class="container">        
        <nav>
            <a href="/" class="logo"></a>
            <span class="separator"></span>
            [[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-top-wrapper` &excludeDocs=`1`]]
            <a href="#mobile-menu" class="hide-m-up burger-wrapper sidenav-trigger"><i class="mdi mdi-menu"></i></a>
        </nav>
    </div>
</header>
[[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-bottom-wrapper` &showHiddden=`true` &excludeDocs=`1`]]
    <main id="floor0" class="floor">
        <section id="floor-hero">
            <div class="container">
                [[!Wayfinder? 
                    &startId=`2` 
                    &level=`1` 
                    &outerTpl=`floor-navi-wrapper`
                    &rowTpl=`floorRowTpl`
                ]]
                <svg width="2001" height="604" viewBox="0 0 2001 604" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <rect width="2000" height="604" fill="url(#pattern0)"/>
    <path class="room" id="room1" d="M344 36L304.5 276H70L124 36H344Z" />
    <path class="room" id="room2" d="M344 36L304.5 276H871L878 36H344Z" />
    <path class="room" id="room3" d="M1143 36L1150.5 276H1304.5L1288.5 36H1143Z" />
    <path class="room" id="room4" d="M1425.5 36L1452 276H1304.5L1288.5 36H1425.5Z" />
    <path class="room" id="room5" d="M1425.5 36L1452 276H1745.5L1701.5 36H1425.5Z" />
    <path class="room" id="room6" d="M442 345.5H55L10.5 536H417L442 345.5Z" />
    <path class="room" id="room7" d="M903.5 345.5H754L743.5 536H898.5L903.5 345.5Z" />
    <path class="room" id="room8" d="M903.5 345.5H1044V536H898.5L903.5 345.5Z" />
    <path class="room" id="room9" d="M1168.5 389H1044V536H1175.5L1168.5 389Z" />
    <path class="room" id="room10" d="M1166.5 345.5H1770.5L1806.5 536H1175.5L1166.5 345.5Z" />
    <defs>
    <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image0_158:671" transform="scale(0.0005 0.00165563)"/>
    </pattern>
    <pattern id="pattern1" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.255474 -0.15) scale(0.00364964 0.00416667)"/>
    </pattern>
    <pattern id="pattern2" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.53095 -0.15) scale(0.00174368 0.00416667)"/>
    </pattern>
    <pattern id="pattern3" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.0774 -0.15) scale(0.00619195 0.00416667)"/>
    </pattern>
    <pattern id="pattern4" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.88073 -0.15) scale(0.00611621 0.00416667)"/>
    </pattern>
    <pattern id="pattern5" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.45469 -0.15) scale(0.003125 0.00416667)"/>
    </pattern>
    <pattern id="pattern6" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.0243337 -1.81365) scale(0.0023175 0.00524934)"/>
    </pattern>
    <pattern id="pattern7" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.64687 -1.81365) scale(0.00625 0.00524934)"/>
    </pattern>
    <pattern id="pattern8" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-6.17526 -1.81365) scale(0.00687285 0.00524934)"/>
    </pattern>
    <pattern id="pattern9" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.93916 -2.64626) scale(0.00760456 0.00680272)"/>
    </pattern>
    <pattern id="pattern10" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-1.82266 -1.81365) scale(0.0015625 0.00524934)"/>
    </pattern>
    <image id="image0_158:671" width="2000" height="604" xlink:href="/img/floors/B.png"/>
    <image id="image1_158:671" width="2000" height="604" xlink:href="/img/floors/B_d.png"/>
    </defs>
</svg>
            </div>
        </section>
        <section id="rooms" data-shown="room">
            <div class="container">
                <div class="row flex">
                    <div class="col s12 center-align room">
                        <h1>Аренда помещений</h1>
                    </div>
                    <div class="col m6 s12 rooms">
                        <div class="backlink-wrapper hide-m-up">
                            <button class="backlink"><i class="mdi mdi-login"></i>К помещению</button>
                        </div>
                        <div class="row">
                            [[!pdoResources? 
                                &parents=`6` 
                                &tpl=`room-tpl` 
                                &depth=`0` 
                                &sortdir=`ASC` 
                                &limit=`0`
                                &includeTVs=`isRented,logo,name`
                                &prepeareTVs=`1`
                            ]]
                        </div>
                    </div>
                    <div class="col m1 hide-m-down">
                        <div class="vert-separator"></div>
                    </div>
                    <div class="col m5 s12 floor-description" id="floor-description">
                        <div class="backlink-wrapper hide-m-up">
                            <button class="backlink"><i class="mdi mdi-logout"></i>К этажам</button>
                        </div>
                        <h2></h2>
<div class="lazy rented-logo" data-src="/img/renters/dns/logo.svg"></div>
<ul class="tabs">
    <li class="tab"><a href="#common">Описание</a></li>
    <li class="tab"><a href="#details">Подробности</a></li>
</ul>
<div id="common">
    <div class="row">
        <div class="col s12">
            <h3>DNS</h3>
        </div>
        <div class="col xl7 l12 m12">
            
            <div class="gallery-bullets">
                
            </div>
        </div>
        <div class="col xl5 l12 m12">
            <table class="tvtable"><tbody><tr><td>пн-пт</td><td>09:00-18:00</td></tr><tr><td>сб-вс</td><td>выходной</td></tr><tr><td>обед</td><td>13:00-14:00</td></tr></tbody></table>
        </div>
    </div>
</div>
<div id="details">
    Описания пока нет
</div>
                    </div>
                </div>
            </div>
        </section>
        <section id="benefits">
            <div class="container">
                <div class="row">
                    <div class="col s12 center-align">
                        <h2>Наши преимущества</h2>
                    </div>
                    <div class="col l4 m6 s12">
                        <h3>Расположение</h3>
                        <div class="lazy" data-src="/img/benefits/location.jpg"></div>
                        <p>
                            Трест расположен в непосредственной близости от центральной улицы города, 
                            что делает его расположение выгодным с точки зрения транспортного обеспечения. 
                            До здания можно быстро добраться как на общественном транспорте, так и на личном – 
                            здание оснащено охраняемой парковкой на N парковочных мест.
                        </p>
                    </div>
                    <div class="col l4 m6 s12">
                        <h3>Коммуникации</h3>
                        <div class="lazy" data-src="/img/benefits/services.jpg"></div>
                        <p>
                            Здание «Трест» оснащено всеми необходимыми коммуникациями – горячая и холодная вода, 
                            электричество, газ. Оплата всех коммуникаций и комуннальных услуг входит в оплату. 
                            Арендовав помещение у нас, можно быть уверенным, что дополнительных платежей помимо 
                            арендной платы не будет, а имеющиеся комунникации работают отлаженно и без сбоев.
                        </p>
                    </div>
                    <div class="col l4 m6 offset-m3 s12">
                        <h3>Выгода</h3>
                        <div class="lazy" data-src="/img/benefits/finances.jpg"></div>
                        <p>
                            Стоимость аренды помещений в нашем здании едва ли не самая низкая в городе, 
                            что в совокупности с тем, что, в цену входят комуннальные платежи и охраняемая парковка, 
                            делает аренду у нас наиболее предпочтительной для бизнеса. Также вы можете арендовать 
                            несколько помещений по выгодной цене, сформировав полноценный офис.
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
    <div class="container">
        <div class="row">
            <div class="col l2 m3">
                <a href="/" class="logo"></a>
            </div>
            <div class="col l2 m3 align-center-m-down">
                <ul>
                    <li><a href="/rent.html">Аренда</a></li>
                    <li><a href="/renters.html">Арендаторы</a></li>
                    <li><a href="/stories.html">Городские истории</a></li>
                    <li><a href="/contacts.html">Контакты</a></li>
                </ul>
            </div>
            <div class="col l8 m6 right-align align-center-m-down">
                <p>
                    <span>Телефон администратора</span>
                    <a href="tel://+79834408696" class="mont">8 983 440 86 96</a>
                </p>
                <p>
                    <span>Почтовый адрес</span>
                    <a href="https://goo.gl/maps/nRLn4E3CtpovxanG7" rel="nofollow" target="_blank">Россия, Иркутская область, г. Усть-Кут, ул. Кирова, 18</a>
                </p>
            </div>
        </div>
    </div>
</footer>
<div class="footer-copyright">
    <div class="container">
        <div class="flex">
            <div class="fc-left">
                © Трест, 2021
            </div>
            <div class="fc-right">
                <a href="https://2br.agency" target="_blank" rel="nofollow">
                    Дизайн, разработка – студия <span class="logo">2Br</span>
                </a>
            </div>
        </div>
    </div>
</div>
    <script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/jquery.hyphen.ru.min.js"></script>
<script type="text/javascript" src="/js/master.js"></script>
</body>
</html>',
    '_isForward' => false,
  ),
  'contentType' => 
  array (
    'id' => 1,
    'name' => 'HTML',
    'description' => 'HTML content',
    'mime_type' => 'text/html',
    'file_extensions' => '.html',
    'headers' => NULL,
    'binary' => 0,
  ),
  'resourceGroups' => 
  array (
    14 => 
    array (
      'id' => 14,
      'document_group' => 2,
      'document' => 15,
    ),
  ),
  'policyCache' => 
  array (
    'modAccessResourceGroup' => 
    array (
      2 => 
      array (
        0 => 
        array (
          'principal' => '3',
          'authority' => '0',
          'policy' => 
          array (
            'add_children' => true,
            'create' => true,
            'copy' => true,
            'delete' => true,
            'list' => true,
            'load' => true,
            'move' => true,
            'publish' => true,
            'remove' => true,
            'save' => true,
            'steal_lock' => true,
            'undelete' => true,
            'unpublish' => true,
            'view' => true,
          ),
        ),
      ),
    ),
  ),
  'elementCache' => 
  array (
    '[[parentData? &field=`pagetitle`]]' => 'Цоколь',
    '[[$head]]' => '<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Трест® || Цоколь, Каб. 9</title>
<link rel="stylesheet" href="/css/master.css">
<link href=\'https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css\' rel=\'stylesheet\' />
',
    '[[$header]]' => '<header>
    <div class="container">        
        <nav>
            <a href="/" class="logo"></a>
            <span class="separator"></span>
            [[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-top-wrapper` &excludeDocs=`1`]]
            <a href="#mobile-menu" class="hide-m-up burger-wrapper sidenav-trigger"><i class="mdi mdi-menu"></i></a>
        </nav>
    </div>
</header>
[[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-bottom-wrapper` &showHiddden=`true` &excludeDocs=`1`]]',
    '[[parentData? &field=`alias`]]' => 'floor0',
    '[[parentData? 
                    &field=`parent`]]' => 2,
    '[[$floor0]]' => '<svg width="2001" height="604" viewBox="0 0 2001 604" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <rect width="2000" height="604" fill="url(#pattern0)"/>
    <path class="room" id="room1" d="M344 36L304.5 276H70L124 36H344Z" />
    <path class="room" id="room2" d="M344 36L304.5 276H871L878 36H344Z" />
    <path class="room" id="room3" d="M1143 36L1150.5 276H1304.5L1288.5 36H1143Z" />
    <path class="room" id="room4" d="M1425.5 36L1452 276H1304.5L1288.5 36H1425.5Z" />
    <path class="room" id="room5" d="M1425.5 36L1452 276H1745.5L1701.5 36H1425.5Z" />
    <path class="room" id="room6" d="M442 345.5H55L10.5 536H417L442 345.5Z" />
    <path class="room" id="room7" d="M903.5 345.5H754L743.5 536H898.5L903.5 345.5Z" />
    <path class="room" id="room8" d="M903.5 345.5H1044V536H898.5L903.5 345.5Z" />
    <path class="room" id="room9" d="M1168.5 389H1044V536H1175.5L1168.5 389Z" />
    <path class="room" id="room10" d="M1166.5 345.5H1770.5L1806.5 536H1175.5L1166.5 345.5Z" />
    <defs>
    <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image0_158:671" transform="scale(0.0005 0.00165563)"/>
    </pattern>
    <pattern id="pattern1" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.255474 -0.15) scale(0.00364964 0.00416667)"/>
    </pattern>
    <pattern id="pattern2" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.53095 -0.15) scale(0.00174368 0.00416667)"/>
    </pattern>
    <pattern id="pattern3" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.0774 -0.15) scale(0.00619195 0.00416667)"/>
    </pattern>
    <pattern id="pattern4" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.88073 -0.15) scale(0.00611621 0.00416667)"/>
    </pattern>
    <pattern id="pattern5" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.45469 -0.15) scale(0.003125 0.00416667)"/>
    </pattern>
    <pattern id="pattern6" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.0243337 -1.81365) scale(0.0023175 0.00524934)"/>
    </pattern>
    <pattern id="pattern7" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.64687 -1.81365) scale(0.00625 0.00524934)"/>
    </pattern>
    <pattern id="pattern8" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-6.17526 -1.81365) scale(0.00687285 0.00524934)"/>
    </pattern>
    <pattern id="pattern9" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.93916 -2.64626) scale(0.00760456 0.00680272)"/>
    </pattern>
    <pattern id="pattern10" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-1.82266 -1.81365) scale(0.0015625 0.00524934)"/>
    </pattern>
    <image id="image0_158:671" width="2000" height="604" xlink:href="/img/floors/B.png"/>
    <image id="image1_158:671" width="2000" height="604" xlink:href="/img/floors/B_d.png"/>
    </defs>
</svg>',
    '[[parentData? &field=`id`]]' => 6,
    '[[getImageList? 
                &tvname=`gallery` 
                &limit=`1` 
                &tpl=`main_img`
            ]]' => '',
    '[[getImageList? 
                    &tvname=`gallery` 
                    &tpl=`gallery_bullet`
                ]]' => '',
    '[[TVTable? 
                &tv=`11`
                &head=`0`
            ]]' => '<table class="tvtable"><tbody><tr><td>пн-пт</td><td>09:00-18:00</td></tr><tr><td>сб-вс</td><td>выходной</td></tr><tr><td>обед</td><td>13:00-14:00</td></tr></tbody></table>',
    '[[if? 
        &subject=`` 
        &operator=`isEmpty` 
        &then=`Описания пока нет` 
        &else=``
    ]]' => 'Описания пока нет',
    '[[$rented_tpl]]' => '<h2></h2>
<div class="lazy rented-logo" data-src="/img/renters/dns/logo.svg"></div>
<ul class="tabs">
    <li class="tab"><a href="#common">Описание</a></li>
    <li class="tab"><a href="#details">Подробности</a></li>
</ul>
<div id="common">
    <div class="row">
        <div class="col s12">
            <h3>DNS</h3>
        </div>
        <div class="col xl7 l12 m12">
            
            <div class="gallery-bullets">
                
            </div>
        </div>
        <div class="col xl5 l12 m12">
            <table class="tvtable"><tbody><tr><td>пн-пт</td><td>09:00-18:00</td></tr><tr><td>сб-вс</td><td>выходной</td></tr><tr><td>обед</td><td>13:00-14:00</td></tr></tbody></table>
        </div>
    </div>
</div>
<div id="details">
    Описания пока нет
</div>',
    '[[$free_tpl]]' => 'Помещение свободно',
    '[[if? 
                            &subject=`rented` 
                            &operator=`EQ` 
                            &operand=`rented` 
                            &then=`<h2></h2>
<div class="lazy rented-logo" data-src="/img/renters/dns/logo.svg"></div>
<ul class="tabs">
    <li class="tab"><a href="#common">Описание</a></li>
    <li class="tab"><a href="#details">Подробности</a></li>
</ul>
<div id="common">
    <div class="row">
        <div class="col s12">
            <h3>DNS</h3>
        </div>
        <div class="col xl7 l12 m12">
            
            <div class="gallery-bullets">
                
            </div>
        </div>
        <div class="col xl5 l12 m12">
            <table class="tvtable"><tbody><tr><td>пн-пт</td><td>09:00-18:00</td></tr><tr><td>сб-вс</td><td>выходной</td></tr><tr><td>обед</td><td>13:00-14:00</td></tr></tbody></table>
        </div>
    </div>
</div>
<div id="details">
    Описания пока нет
</div>` 
                            &else=`Помещение свободно`
                        ]]' => '<h2></h2>
<div class="lazy rented-logo" data-src="/img/renters/dns/logo.svg"></div>
<ul class="tabs">
    <li class="tab"><a href="#common">Описание</a></li>
    <li class="tab"><a href="#details">Подробности</a></li>
</ul>
<div id="common">
    <div class="row">
        <div class="col s12">
            <h3>DNS</h3>
        </div>
        <div class="col xl7 l12 m12">
            
            <div class="gallery-bullets">
                
            </div>
        </div>
        <div class="col xl5 l12 m12">
            <table class="tvtable"><tbody><tr><td>пн-пт</td><td>09:00-18:00</td></tr><tr><td>сб-вс</td><td>выходной</td></tr><tr><td>обед</td><td>13:00-14:00</td></tr></tbody></table>
        </div>
    </div>
</div>
<div id="details">
    Описания пока нет
</div>',
    '[[$footer]]' => '<footer>
    <div class="container">
        <div class="row">
            <div class="col l2 m3">
                <a href="/" class="logo"></a>
            </div>
            <div class="col l2 m3 align-center-m-down">
                <ul>
                    <li><a href="/rent.html">Аренда</a></li>
                    <li><a href="/renters.html">Арендаторы</a></li>
                    <li><a href="/stories.html">Городские истории</a></li>
                    <li><a href="/contacts.html">Контакты</a></li>
                </ul>
            </div>
            <div class="col l8 m6 right-align align-center-m-down">
                <p>
                    <span>Телефон администратора</span>
                    <a href="tel://+79834408696" class="mont">8 983 440 86 96</a>
                </p>
                <p>
                    <span>Почтовый адрес</span>
                    <a href="https://goo.gl/maps/nRLn4E3CtpovxanG7" rel="nofollow" target="_blank">Россия, Иркутская область, г. Усть-Кут, ул. Кирова, 18</a>
                </p>
            </div>
        </div>
    </div>
</footer>
<div class="footer-copyright">
    <div class="container">
        <div class="flex">
            <div class="fc-left">
                © Трест, 2021
            </div>
            <div class="fc-right">
                <a href="https://2br.agency" target="_blank" rel="nofollow">
                    Дизайн, разработка – студия <span class="logo">2Br</span>
                </a>
            </div>
        </div>
    </div>
</div>',
    '[[$scripts]]' => '<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/jquery.hyphen.ru.min.js"></script>
<script type="text/javascript" src="/js/master.js"></script>',
    '[[if? &subject=`7` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`//img/renters/magnit/magnete-cosmetics.svg` &operator=`isempty` &then=`empty`]]' => '',
    '[[removeSlashes? &url=`//img/renters/magnit/magnete-cosmetics.svg`]]' => 'img/renters/magnit/magnete-cosmetics.svg',
    '[[if? &subject=`//img/renters/magnit/magnete-cosmetics.svg` &operator=`isempty` &then=`Магнит Косметикс`]]' => '',
    '[[if? &subject=`8` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`` &operator=`isempty` &then=`empty`]]' => 'empty',
    '[[removeSlashes? &url=``]]' => false,
    '[[if? &subject=`` &operator=`isempty` &then=``]]' => '',
    '[[if? &subject=`9` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`10` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`11` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`12` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`13` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`14` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`15` &operator=`EQ` &operand=`15` &then=`active`]]' => 'active',
    '[[if? &subject=`//img/renters/dns/logo.svg` &operator=`isempty` &then=`empty`]]' => '',
    '[[removeSlashes? &url=`//img/renters/dns/logo.svg`]]' => 'img/renters/dns/logo.svg',
    '[[if? &subject=`//img/renters/dns/logo.svg` &operator=`isempty` &then=`DNS`]]' => '',
    '[[if? &subject=`16` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`17` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`18` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`19` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`20` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
    '[[if? &subject=`21` &operator=`EQ` &operand=`15` &then=`active`]]' => '',
  ),
  'sourceCache' => 
  array (
    'modChunk' => 
    array (
      'head' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'head',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>[[++site_name]] || [[parentData? &field=`pagetitle`]], [[*pagetitle]]</title>
<link rel="stylesheet" href="/css/master.css">
<link href=\'https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css\' rel=\'stylesheet\' />
',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>[[++site_name]] || [[parentData? &field=`pagetitle`]], [[*pagetitle]]</title>
<link rel="stylesheet" href="/css/master.css">
<link href=\'https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css\' rel=\'stylesheet\' />
',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'header' => 
      array (
        'fields' => 
        array (
          'id' => 2,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'header',
          'description' => '',
          'editor_type' => 0,
          'category' => 5,
          'cache_type' => 0,
          'snippet' => '<header>
    <div class="container">        
        <nav>
            <a href="/" class="logo"></a>
            <span class="separator"></span>
            [[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-top-wrapper` &excludeDocs=`1`]]
            <a href="#mobile-menu" class="hide-m-up burger-wrapper sidenav-trigger"><i class="mdi mdi-menu"></i></a>
        </nav>
    </div>
</header>
[[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-bottom-wrapper` &showHiddden=`true` &excludeDocs=`1`]]',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<header>
    <div class="container">        
        <nav>
            <a href="/" class="logo"></a>
            <span class="separator"></span>
            [[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-top-wrapper` &excludeDocs=`1`]]
            <a href="#mobile-menu" class="hide-m-up burger-wrapper sidenav-trigger"><i class="mdi mdi-menu"></i></a>
        </nav>
    </div>
</header>
[[!Wayfinder? &startId=`0` &level=`1` &outerTpl=`nav-bottom-wrapper` &showHiddden=`true` &excludeDocs=`1`]]',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'floor0' => 
      array (
        'fields' => 
        array (
          'id' => 7,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'floor0',
          'description' => 'Цоколь SVG',
          'editor_type' => 0,
          'category' => 4,
          'cache_type' => 0,
          'snippet' => '<svg width="2001" height="604" viewBox="0 0 2001 604" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <rect width="2000" height="604" fill="url(#pattern0)"/>
    <path class="room" id="room1" d="M344 36L304.5 276H70L124 36H344Z" />
    <path class="room" id="room2" d="M344 36L304.5 276H871L878 36H344Z" />
    <path class="room" id="room3" d="M1143 36L1150.5 276H1304.5L1288.5 36H1143Z" />
    <path class="room" id="room4" d="M1425.5 36L1452 276H1304.5L1288.5 36H1425.5Z" />
    <path class="room" id="room5" d="M1425.5 36L1452 276H1745.5L1701.5 36H1425.5Z" />
    <path class="room" id="room6" d="M442 345.5H55L10.5 536H417L442 345.5Z" />
    <path class="room" id="room7" d="M903.5 345.5H754L743.5 536H898.5L903.5 345.5Z" />
    <path class="room" id="room8" d="M903.5 345.5H1044V536H898.5L903.5 345.5Z" />
    <path class="room" id="room9" d="M1168.5 389H1044V536H1175.5L1168.5 389Z" />
    <path class="room" id="room10" d="M1166.5 345.5H1770.5L1806.5 536H1175.5L1166.5 345.5Z" />
    <defs>
    <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image0_158:671" transform="scale(0.0005 0.00165563)"/>
    </pattern>
    <pattern id="pattern1" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.255474 -0.15) scale(0.00364964 0.00416667)"/>
    </pattern>
    <pattern id="pattern2" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.53095 -0.15) scale(0.00174368 0.00416667)"/>
    </pattern>
    <pattern id="pattern3" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.0774 -0.15) scale(0.00619195 0.00416667)"/>
    </pattern>
    <pattern id="pattern4" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.88073 -0.15) scale(0.00611621 0.00416667)"/>
    </pattern>
    <pattern id="pattern5" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.45469 -0.15) scale(0.003125 0.00416667)"/>
    </pattern>
    <pattern id="pattern6" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.0243337 -1.81365) scale(0.0023175 0.00524934)"/>
    </pattern>
    <pattern id="pattern7" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.64687 -1.81365) scale(0.00625 0.00524934)"/>
    </pattern>
    <pattern id="pattern8" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-6.17526 -1.81365) scale(0.00687285 0.00524934)"/>
    </pattern>
    <pattern id="pattern9" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.93916 -2.64626) scale(0.00760456 0.00680272)"/>
    </pattern>
    <pattern id="pattern10" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-1.82266 -1.81365) scale(0.0015625 0.00524934)"/>
    </pattern>
    <image id="image0_158:671" width="2000" height="604" xlink:href="/img/floors/B.png"/>
    <image id="image1_158:671" width="2000" height="604" xlink:href="/img/floors/B_d.png"/>
    </defs>
</svg>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<svg width="2001" height="604" viewBox="0 0 2001 604" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <rect width="2000" height="604" fill="url(#pattern0)"/>
    <path class="room" id="room1" d="M344 36L304.5 276H70L124 36H344Z" />
    <path class="room" id="room2" d="M344 36L304.5 276H871L878 36H344Z" />
    <path class="room" id="room3" d="M1143 36L1150.5 276H1304.5L1288.5 36H1143Z" />
    <path class="room" id="room4" d="M1425.5 36L1452 276H1304.5L1288.5 36H1425.5Z" />
    <path class="room" id="room5" d="M1425.5 36L1452 276H1745.5L1701.5 36H1425.5Z" />
    <path class="room" id="room6" d="M442 345.5H55L10.5 536H417L442 345.5Z" />
    <path class="room" id="room7" d="M903.5 345.5H754L743.5 536H898.5L903.5 345.5Z" />
    <path class="room" id="room8" d="M903.5 345.5H1044V536H898.5L903.5 345.5Z" />
    <path class="room" id="room9" d="M1168.5 389H1044V536H1175.5L1168.5 389Z" />
    <path class="room" id="room10" d="M1166.5 345.5H1770.5L1806.5 536H1175.5L1166.5 345.5Z" />
    <defs>
    <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image0_158:671" transform="scale(0.0005 0.00165563)"/>
    </pattern>
    <pattern id="pattern1" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.255474 -0.15) scale(0.00364964 0.00416667)"/>
    </pattern>
    <pattern id="pattern2" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.53095 -0.15) scale(0.00174368 0.00416667)"/>
    </pattern>
    <pattern id="pattern3" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.0774 -0.15) scale(0.00619195 0.00416667)"/>
    </pattern>
    <pattern id="pattern4" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.88073 -0.15) scale(0.00611621 0.00416667)"/>
    </pattern>
    <pattern id="pattern5" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.45469 -0.15) scale(0.003125 0.00416667)"/>
    </pattern>
    <pattern id="pattern6" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-0.0243337 -1.81365) scale(0.0023175 0.00524934)"/>
    </pattern>
    <pattern id="pattern7" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-4.64687 -1.81365) scale(0.00625 0.00524934)"/>
    </pattern>
    <pattern id="pattern8" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-6.17526 -1.81365) scale(0.00687285 0.00524934)"/>
    </pattern>
    <pattern id="pattern9" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-7.93916 -2.64626) scale(0.00760456 0.00680272)"/>
    </pattern>
    <pattern id="pattern10" patternContentUnits="objectBoundingBox" width="1" height="1">
    <use xlink:href="#image1_158:671" transform="translate(-1.82266 -1.81365) scale(0.0015625 0.00524934)"/>
    </pattern>
    <image id="image0_158:671" width="2000" height="604" xlink:href="/img/floors/B.png"/>
    <image id="image1_158:671" width="2000" height="604" xlink:href="/img/floors/B_d.png"/>
    </defs>
</svg>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'rented_tpl' => 
      array (
        'fields' => 
        array (
          'id' => 15,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'rented_tpl',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '<h2>[[*description]]</h2>
<div class="lazy rented-logo" data-src="[[*logo]]"></div>
<ul class="tabs">
    <li class="tab"><a href="#common">Описание</a></li>
    <li class="tab"><a href="#details">Подробности</a></li>
</ul>
<div id="common">
    <div class="row">
        <div class="col s12">
            <h3>[[*name]]</h3>
        </div>
        <div class="col xl7 l12 m12">
            [[getImageList? 
                &tvname=`gallery` 
                &limit=`1` 
                &tpl=`main_img`
            ]]
            <div class="gallery-bullets">
                [[getImageList? 
                    &tvname=`gallery` 
                    &tpl=`gallery_bullet`
                ]]
            </div>
        </div>
        <div class="col xl5 l12 m12">
            [[TVTable? 
                &tv=`11`
                &head=`0`
            ]]
        </div>
    </div>
</div>
<div id="details">
    [[if? 
        &subject=`[[*content]]` 
        &operator=`isEmpty` 
        &then=`Описания пока нет` 
        &else=`[[*content]]`
    ]]
</div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<h2>[[*description]]</h2>
<div class="lazy rented-logo" data-src="[[*logo]]"></div>
<ul class="tabs">
    <li class="tab"><a href="#common">Описание</a></li>
    <li class="tab"><a href="#details">Подробности</a></li>
</ul>
<div id="common">
    <div class="row">
        <div class="col s12">
            <h3>[[*name]]</h3>
        </div>
        <div class="col xl7 l12 m12">
            [[getImageList? 
                &tvname=`gallery` 
                &limit=`1` 
                &tpl=`main_img`
            ]]
            <div class="gallery-bullets">
                [[getImageList? 
                    &tvname=`gallery` 
                    &tpl=`gallery_bullet`
                ]]
            </div>
        </div>
        <div class="col xl5 l12 m12">
            [[TVTable? 
                &tv=`11`
                &head=`0`
            ]]
        </div>
    </div>
</div>
<div id="details">
    [[if? 
        &subject=`[[*content]]` 
        &operator=`isEmpty` 
        &then=`Описания пока нет` 
        &else=`[[*content]]`
    ]]
</div>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'free_tpl' => 
      array (
        'fields' => 
        array (
          'id' => 18,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'free_tpl',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => 'Помещение свободно',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => 'Помещение свободно',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'footer' => 
      array (
        'fields' => 
        array (
          'id' => 4,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'footer',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<footer>
    <div class="container">
        <div class="row">
            <div class="col l2 m3">
                <a href="/" class="logo"></a>
            </div>
            <div class="col l2 m3 align-center-m-down">
                <ul>
                    <li><a href="/rent.html">Аренда</a></li>
                    <li><a href="/renters.html">Арендаторы</a></li>
                    <li><a href="/stories.html">Городские истории</a></li>
                    <li><a href="/contacts.html">Контакты</a></li>
                </ul>
            </div>
            <div class="col l8 m6 right-align align-center-m-down">
                <p>
                    <span>Телефон администратора</span>
                    <a href="tel://+79834408696" class="mont">8 983 440 86 96</a>
                </p>
                <p>
                    <span>Почтовый адрес</span>
                    <a href="https://goo.gl/maps/nRLn4E3CtpovxanG7" rel="nofollow" target="_blank">Россия, Иркутская область, г. Усть-Кут, ул. Кирова, 18</a>
                </p>
            </div>
        </div>
    </div>
</footer>
<div class="footer-copyright">
    <div class="container">
        <div class="flex">
            <div class="fc-left">
                © Трест, 2021
            </div>
            <div class="fc-right">
                <a href="https://2br.agency" target="_blank" rel="nofollow">
                    Дизайн, разработка – студия <span class="logo">2Br</span>
                </a>
            </div>
        </div>
    </div>
</div>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<footer>
    <div class="container">
        <div class="row">
            <div class="col l2 m3">
                <a href="/" class="logo"></a>
            </div>
            <div class="col l2 m3 align-center-m-down">
                <ul>
                    <li><a href="/rent.html">Аренда</a></li>
                    <li><a href="/renters.html">Арендаторы</a></li>
                    <li><a href="/stories.html">Городские истории</a></li>
                    <li><a href="/contacts.html">Контакты</a></li>
                </ul>
            </div>
            <div class="col l8 m6 right-align align-center-m-down">
                <p>
                    <span>Телефон администратора</span>
                    <a href="tel://+79834408696" class="mont">8 983 440 86 96</a>
                </p>
                <p>
                    <span>Почтовый адрес</span>
                    <a href="https://goo.gl/maps/nRLn4E3CtpovxanG7" rel="nofollow" target="_blank">Россия, Иркутская область, г. Усть-Кут, ул. Кирова, 18</a>
                </p>
            </div>
        </div>
    </div>
</footer>
<div class="footer-copyright">
    <div class="container">
        <div class="flex">
            <div class="fc-left">
                © Трест, 2021
            </div>
            <div class="fc-right">
                <a href="https://2br.agency" target="_blank" rel="nofollow">
                    Дизайн, разработка – студия <span class="logo">2Br</span>
                </a>
            </div>
        </div>
    </div>
</div>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'scripts' => 
      array (
        'fields' => 
        array (
          'id' => 3,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'scripts',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/jquery.hyphen.ru.min.js"></script>
<script type="text/javascript" src="/js/master.js"></script>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.lazy.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script src="/js/jquery.hyphen.ru.min.js"></script>
<script type="text/javascript" src="/js/master.js"></script>',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modSnippet' => 
    array (
      'parentData' => 
      array (
        'fields' => 
        array (
          'id' => 16,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'parentData',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '$doc = $modx->resource;
$parentId = $doc->get(\'parent\');

if( $parentId ){
    $parentRes = $modx->getObject( \'modResource\', array( \'id\' => $parentId ) );
    return $parentRes->get($field);
}else{
    return $doc->get($field);
}',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '$doc = $modx->resource;
$parentId = $doc->get(\'parent\');

if( $parentId ){
    $parentRes = $modx->getObject( \'modResource\', array( \'id\' => $parentId ) );
    return $parentRes->get($field);
}else{
    return $doc->get($field);
}',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'getImageList' => 
      array (
        'fields' => 
        array (
          'id' => 17,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'getImageList',
          'description' => '',
          'editor_type' => 0,
          'category' => 9,
          'cache_type' => 0,
          'snippet' => '/**
 * getImageList
 *
 * Copyright 2009-2014 by Bruno Perner <b.perner@gmx.de>
 *
 * getImageList is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * getImageList is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * getImageList; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package migx
 */
/**
 * getImageList
 *
 * display Items from outputvalue of TV with custom-TV-input-type MIGX or from other JSON-string for MODx Revolution 
 *
 * @version 1.4
 * @author Bruno Perner <b.perner@gmx.de>
 * @copyright Copyright &copy; 2009-2014
 * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License
 * version 2 or (at your option) any later version.
 * @package migx
 */

/*example: <ul>[[!getImageList? &tvname=`myTV`&tpl=`@CODE:<li>[[+idx]]<img src="[[+imageURL]]"/><p>[[+imageAlt]]</p></li>`]]</ul>*/
/* get default properties */

$allow_request = (bool)$modx->getOption(\'allowRequest\', $scriptProperties, false);
$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');
$inherit_children_tvname = $modx->getOption(\'inherit_children_tvname\', $scriptProperties, \'\');
$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');
$wrapperTpl = $modx->getOption(\'wrapperTpl\', $scriptProperties, \'\');
$emptyTpl = $modx->getOption(\'emptyTpl\', $scriptProperties, \'\'); 
$limit = $modx->getOption(\'limit\', $scriptProperties, \'0\');
$offset = $modx->getOption(\'offset\', $scriptProperties, 0);
$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');
$randomize = $modx->getOption(\'randomize\', $scriptProperties, false);
$preselectLimit = $modx->getOption(\'preselectLimit\', $scriptProperties, 0); // when random preselect important images
$where = $modx->getOption(\'where\', $scriptProperties, \'\');
$where = !empty($where) ? $modx->fromJSON($where) : array();
$sort = $modx->getOption(\'sort\', $scriptProperties, \'\');
$sort = !empty($sort) ? $modx->fromJSON($sort) : array();
$toSeparatePlaceholders = $modx->getOption(\'toSeparatePlaceholders\', $scriptProperties, false);
$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);
$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$placeholdersKeyField = $modx->getOption(\'placeholdersKeyField\', $scriptProperties, \'MIGX_id\');
$toJsonPlaceholder = $modx->getOption(\'toJsonPlaceholder\', $scriptProperties, false);
$jsonVarKey = $modx->getOption(\'jsonVarKey\', $scriptProperties, \'migx_outputvalue\');
$outputvalue = $modx->getOption(\'value\', $scriptProperties, \'\');
if ($allow_request) {
    $outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
}
$docidVarKey = $modx->getOption(\'docidVarKey\', $scriptProperties, \'migx_docid\');
$docid = $modx->getOption(\'docid\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : 1));
if ($allow_request) {
    $docid = isset($_REQUEST[$docidVarKey]) ? $_REQUEST[$docidVarKey] : $docid;
}
$processTVs = $modx->getOption(\'processTVs\', $scriptProperties, \'1\');
$reverse = $modx->getOption(\'reverse\', $scriptProperties, \'0\');
$sumFields = $modx->getOption(\'sumFields\', $scriptProperties, \'\');
$sumPrefix = $modx->getOption(\'sumPrefix\', $scriptProperties, \'summary_\');
$addfields = $modx->getOption(\'addfields\', $scriptProperties, \'\');
$addfields = !empty($addfields) ? explode(\',\', $addfields) : null;
//split json into parts
$splits = $modx->fromJson($modx->getOption(\'splits\', $scriptProperties, 0));
$splitTpl = $modx->getOption(\'splitTpl\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$inheritFrom = $modx->getOption(\'inheritFrom\', $scriptProperties, \'\'); //commaseparated list of resource-ids or/and the keyword \'parents\' where to inherit from
$inheritFrom = !empty($inheritFrom) ? explode(\',\', $inheritFrom) : \'\';

$modx->setPlaceholder(\'docid\', $docid);

$base_path = $modx->getOption(\'base_path\', null, MODX_BASE_PATH);
$base_url = $modx->getOption(\'base_url\', null, MODX_BASE_URL);

$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);
if (!($migx instanceof Migx))
    return \'\';
$migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : \'web\';

if (!empty($tvname)) {
    if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname))) {

        /*
        *   get inputProperties
        */


        $properties = $tv->get(\'input_properties\');
        $properties = isset($properties[\'formtabs\']) ? $properties : $tv->getProperties();

        $migx->config[\'configs\'] = $modx->getOption(\'configs\', $properties, \'\');
        if (!empty($migx->config[\'configs\'])) {
            $migx->loadConfigs();
            // get tabs from file or migx-config-table
            $formtabs = $migx->getTabs();
        }
        if (empty($formtabs) && isset($properties[\'formtabs\'])) {
            //try to get formtabs and its fields from properties
            $formtabs = $modx->fromJSON($properties[\'formtabs\']);
        }

        if (!empty($properties[\'basePath\'])) {
            if ($properties[\'autoResourceFolders\'] == \'true\') {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'basePath\'] . $docid . \'/\';
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'] . $docid . \'/\';
            } else {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'base_path\'];
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'];
            }
        }
        if ($jsonVarKey == \'migx_outputvalue\' && !empty($properties[\'jsonvarkey\'])) {
            $jsonVarKey = $properties[\'jsonvarkey\'];
            $outputvalue = $allow_request && isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
        }

        if (empty($outputvalue)) {
            $outputvalue = $tv->renderOutput($docid);
            if (empty($outputvalue) && !empty($inheritFrom)) {
                foreach ($inheritFrom as $from) {
                    if ($from == \'parents\') {
                        if (!empty($inherit_children_tvname)){
                            //try to get items from optional MIGX-TV for children
                            if ($inh_tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inherit_children_tvname))) {
                                $outputvalue = $inh_tv->processInheritBinding(\'\', $docid);    
                            }
                        }
                        $outputvalue = empty($outputvalue) ? $tv->processInheritBinding(\'\', $docid) : $outputvalue;
                    } else {
                        $outputvalue = $tv->renderOutput($from);
                    }
                    if (!empty($outputvalue)) {
                        break;
                    }
                }
            }
        }


        /*
        *   get inputTvs 
        */
        $inputTvs = array();
        if (is_array($formtabs)) {

            //multiple different Forms
            // Note: use same field-names and inputTVs in all forms
            $inputTvs = $migx->extractInputTvs($formtabs);
        }
        if ($migx->source = $tv->getSource($migx->working_context, false)) {
            $migx->source->initialize();
        }

    }


}

if (empty($outputvalue)) {
    $modx->setPlaceholder($totalVar, 0);
    return \'\';
}

//echo $outputvalue.\'<br/><br/>\';

$items = $modx->fromJSON($outputvalue);

// where filter
if (is_array($where) && count($where) > 0) {
    $items = $migx->filterItems($where, $items);
}
$modx->setPlaceholder($totalVar, count($items));

if (!empty($reverse)) {
    $items = array_reverse($items);
}

// sort items
if (is_array($sort) && count($sort) > 0) {
    $items = $migx->sortDbResult($items, $sort);
}

$summaries = array();
$output = \'\';
$items = $offset > 0 ? array_slice($items, $offset) : $items;
$count = count($items);

if ($count > 0) {
    $limit = $limit == 0 || $limit > $count ? $count : $limit;
    $preselectLimit = $preselectLimit > $count ? $count : $preselectLimit;
    //preselect important items
    $preitems = array();
    if ($randomize && $preselectLimit > 0) {
        for ($i = 0; $i < $preselectLimit; $i++) {
            $preitems[] = $items[$i];
            unset($items[$i]);
        }
        $limit = $limit - count($preitems);
    }

    //shuffle items
    if ($randomize) {
        shuffle($items);
    }

    //limit items
    $count = count($items);
    $tempitems = array();

    for ($i = 0; $i < $limit; $i++) {
        if ($i >= $count) {
            break;
        }
        $tempitems[] = $items[$i];
    }
    $items = $tempitems;

    //add preselected items and schuffle again
    if ($randomize && $preselectLimit > 0) {
        $items = array_merge($preitems, $items);
        shuffle($items);
    }

    $properties = array();
    foreach ($scriptProperties as $property => $value) {
        $properties[\'property.\' . $property] = $value;
    }

    $idx = 0;
    $output = array();
    $template = array();
    $count = count($items);

    foreach ($items as $key => $item) {
        $formname = isset($item[\'MIGX_formname\']) ? $item[\'MIGX_formname\'] . \'_\' : \'\';
        $fields = array();
        foreach ($item as $field => $value) {
            if (is_array($value)) {
                if (is_array($value[0])) {
                    //nested array - convert to json
                    $value = $modx->toJson($value);
                } else {
                    $value = implode(\'||\', $value); //handle arrays (checkboxes, multiselects)
                }
            }


            $inputTVkey = $formname . $field;

            if ($processTVs && isset($inputTvs[$inputTVkey])) {
                if (isset($inputTvs[$inputTVkey][\'inputTV\']) && $tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inputTvs[$inputTVkey][\'inputTV\']))) {

                } else {
                    $tv = $modx->newObject(\'modTemplateVar\');
                    $tv->set(\'type\', $inputTvs[$inputTVkey][\'inputTVtype\']);
                }
                $inputTV = $inputTvs[$inputTVkey];

                $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\', null, \'image,file\');
                //don\'t manipulate any urls here
                $modx->setOption(\'manipulatable_url_tv_output_types\', \'\');
                $tv->set(\'default_text\', $value);

                // $value = $tv->renderOutput($docid); breaks if the TV used in MIGX is also assigned to this Template,
                // example tv: imageLogo is assigned to the template and imageLogo is assigned to the MIGX TV as a result
                // only the value of the imageLogo is returned for the MIGX TV instance
                // need to override default MODX method: $value = $tv->renderOutput($docid);
                /* process any TV commands in value */
                $tv_value = $tv->processBindings($value, $docid);
                $params = $tv->get(\'output_properties\');
                if (empty($params) || $params === null) {
                    $params = [];
                }
                /* run prepareOutput to allow for custom overriding */
                $tv_value = $tv->prepareOutput($tv_value, $docid);
                /* find the render */
                $outputRenderPaths = $tv->getRenderDirectories(\'OnTVOutputRenderList\',\'output\');
                $value = $tv->getRender($params, $tv_value, $outputRenderPaths, \'output\', $docid, $tv->get(\'display\'));
                // End override of $value = $tv->renderOutput($docid);
				
                //set option back
                $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);
                //now manipulate urls
                if ($mediasource = $migx->getFieldSource($inputTV, $tv)) {
                    $mTypes = explode(\',\', $mTypes);
                    if (!empty($value) && in_array($tv->get(\'type\'), $mTypes)) {
                        //$value = $mediasource->prepareOutputUrl($value);
                        $value = str_replace(\'/./\', \'/\', $mediasource->prepareOutputUrl($value));
                    }
                }

            }
            $fields[$field] = $value;

        }

        if (!empty($addfields)) {
            foreach ($addfields as $addfield) {
                $addfield = explode(\':\', $addfield);
                $addname = $addfield[0];
                $adddefault = isset($addfield[1]) ? $addfield[1] : \'\';
                $fields[$addname] = $adddefault;
            }
        }

        if (!empty($sumFields)) {
            $sumFields = is_array($sumFields) ? $sumFields : explode(\',\', $sumFields);
            foreach ($sumFields as $sumField) {
                if (isset($fields[$sumField])) {
                    $summaries[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField] + $fields[$sumField];
                    $fields[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField];
                }
            }
        }


        if ($toJsonPlaceholder) {
            $output[] = $fields;
        } else {
            $fields[\'_alt\'] = $idx % 2;
            $idx++;
            $fields[\'_first\'] = $idx == 1 ? true : \'\';
            $fields[\'_last\'] = $idx == $limit ? true : \'\';
            $fields[\'idx\'] = $idx;
            $rowtpl = \'\';
            //get changing tpls from field
            if (substr($tpl, 0, 7) == "@FIELD:") {
                $tplField = substr($tpl, 7);
                $rowtpl = $fields[$tplField];
            }

            if ($fields[\'_first\'] && !empty($tplFirst)) {
                $rowtpl = $tplFirst;
            }
            if ($fields[\'_last\'] && empty($rowtpl) && !empty($tplLast)) {
                $rowtpl = $tplLast;
            }
            $tplidx = \'tpl_\' . $idx;
            if (empty($rowtpl) && !empty($$tplidx)) {
                $rowtpl = $$tplidx;
            }
            if ($idx > 1 && empty($rowtpl)) {
                $divisors = $migx->getDivisors($idx);
                if (!empty($divisors)) {
                    foreach ($divisors as $divisor) {
                        $tplnth = \'tpl_n\' . $divisor;
                        if (!empty($$tplnth)) {
                            $rowtpl = $$tplnth;
                            if (!empty($rowtpl)) {
                                break;
                            }
                        }
                    }
                }
            }

            if ($count == 1 && isset($tpl_oneresult)) {
                $rowtpl = $tpl_oneresult;
            }

            $fields = array_merge($fields, $properties);

            if (!empty($rowtpl)) {
                $template = $migx->getTemplate($tpl, $template);
                $fields[\'_tpl\'] = $template[$tpl];
            } else {
                $rowtpl = $tpl;

            }
            $template = $migx->getTemplate($rowtpl, $template);


            if ($template[$rowtpl]) {
                $chunk = $modx->newObject(\'modChunk\');
                $chunk->setCacheable(false);
                $chunk->setContent($template[$rowtpl]);


                if (!empty($placeholdersKeyField) && isset($fields[$placeholdersKeyField])) {
                    $output[$fields[$placeholdersKeyField]] = $chunk->process($fields);
                } else {
                    $output[] = $chunk->process($fields);
                }
            } else {
                if (!empty($placeholdersKeyField)) {
                    $output[$fields[$placeholdersKeyField]] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                } else {
                    $output[] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                }
            }
        }


    }
}

if (count($summaries) > 0) {
    $modx->toPlaceholders($summaries);
}


if ($toJsonPlaceholder) {
    $modx->setPlaceholder($toJsonPlaceholder, $modx->toJson($output));
    return \'\';
}

if (!empty($toSeparatePlaceholders)) {
    $modx->toPlaceholders($output, $toSeparatePlaceholders);
    return \'\';
}
/*
if (!empty($outerTpl))
$o = parseTpl($outerTpl, array(\'output\'=>implode($outputSeparator, $output)));
else 
*/

if ($count > 0 && $splits > 0) {
    $size = ceil($count / $splits);
    $chunks = array_chunk($output, $size);
    $output = array();
    foreach ($chunks as $chunk) {
        $o = implode($outputSeparator, $chunk);
        $output[] = $modx->getChunk($splitTpl, array(\'output\' => $o));
    }
    $outputSeparator = $splitSeparator;
}

if (is_array($output)) {
    $o = implode($outputSeparator, $output);
} else {
    $o = $output;
}

if (!empty($o) && !empty($wrapperTpl)) {
    $template = $migx->getTemplate($wrapperTpl);
    if ($template[$wrapperTpl]) {
        $chunk = $modx->newObject(\'modChunk\');
        $chunk->setCacheable(false);
        $chunk->setContent($template[$wrapperTpl]);
        $properties[\'output\'] = $o;
        $o = $chunk->process($properties);
    }
}

if (empty($o) && !empty($emptyTpl)) {
    $template = $migx->getTemplate($emptyTpl);
    if ($template[$emptyTpl]) {
        $chunk = $modx->newObject(\'modChunk\');
        $chunk->setCacheable(false);
        $chunk->setContent($template[$emptyTpl]);
        $o = $chunk->process($properties);
    }
}

if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $o);
    return \'\';
}

return $o;',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * getImageList
 *
 * Copyright 2009-2014 by Bruno Perner <b.perner@gmx.de>
 *
 * getImageList is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * getImageList is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * getImageList; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package migx
 */
/**
 * getImageList
 *
 * display Items from outputvalue of TV with custom-TV-input-type MIGX or from other JSON-string for MODx Revolution 
 *
 * @version 1.4
 * @author Bruno Perner <b.perner@gmx.de>
 * @copyright Copyright &copy; 2009-2014
 * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License
 * version 2 or (at your option) any later version.
 * @package migx
 */

/*example: <ul>[[!getImageList? &tvname=`myTV`&tpl=`@CODE:<li>[[+idx]]<img src="[[+imageURL]]"/><p>[[+imageAlt]]</p></li>`]]</ul>*/
/* get default properties */

$allow_request = (bool)$modx->getOption(\'allowRequest\', $scriptProperties, false);
$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');
$inherit_children_tvname = $modx->getOption(\'inherit_children_tvname\', $scriptProperties, \'\');
$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');
$wrapperTpl = $modx->getOption(\'wrapperTpl\', $scriptProperties, \'\');
$emptyTpl = $modx->getOption(\'emptyTpl\', $scriptProperties, \'\'); 
$limit = $modx->getOption(\'limit\', $scriptProperties, \'0\');
$offset = $modx->getOption(\'offset\', $scriptProperties, 0);
$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');
$randomize = $modx->getOption(\'randomize\', $scriptProperties, false);
$preselectLimit = $modx->getOption(\'preselectLimit\', $scriptProperties, 0); // when random preselect important images
$where = $modx->getOption(\'where\', $scriptProperties, \'\');
$where = !empty($where) ? $modx->fromJSON($where) : array();
$sort = $modx->getOption(\'sort\', $scriptProperties, \'\');
$sort = !empty($sort) ? $modx->fromJSON($sort) : array();
$toSeparatePlaceholders = $modx->getOption(\'toSeparatePlaceholders\', $scriptProperties, false);
$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);
$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$placeholdersKeyField = $modx->getOption(\'placeholdersKeyField\', $scriptProperties, \'MIGX_id\');
$toJsonPlaceholder = $modx->getOption(\'toJsonPlaceholder\', $scriptProperties, false);
$jsonVarKey = $modx->getOption(\'jsonVarKey\', $scriptProperties, \'migx_outputvalue\');
$outputvalue = $modx->getOption(\'value\', $scriptProperties, \'\');
if ($allow_request) {
    $outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
}
$docidVarKey = $modx->getOption(\'docidVarKey\', $scriptProperties, \'migx_docid\');
$docid = $modx->getOption(\'docid\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : 1));
if ($allow_request) {
    $docid = isset($_REQUEST[$docidVarKey]) ? $_REQUEST[$docidVarKey] : $docid;
}
$processTVs = $modx->getOption(\'processTVs\', $scriptProperties, \'1\');
$reverse = $modx->getOption(\'reverse\', $scriptProperties, \'0\');
$sumFields = $modx->getOption(\'sumFields\', $scriptProperties, \'\');
$sumPrefix = $modx->getOption(\'sumPrefix\', $scriptProperties, \'summary_\');
$addfields = $modx->getOption(\'addfields\', $scriptProperties, \'\');
$addfields = !empty($addfields) ? explode(\',\', $addfields) : null;
//split json into parts
$splits = $modx->fromJson($modx->getOption(\'splits\', $scriptProperties, 0));
$splitTpl = $modx->getOption(\'splitTpl\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$inheritFrom = $modx->getOption(\'inheritFrom\', $scriptProperties, \'\'); //commaseparated list of resource-ids or/and the keyword \'parents\' where to inherit from
$inheritFrom = !empty($inheritFrom) ? explode(\',\', $inheritFrom) : \'\';

$modx->setPlaceholder(\'docid\', $docid);

$base_path = $modx->getOption(\'base_path\', null, MODX_BASE_PATH);
$base_url = $modx->getOption(\'base_url\', null, MODX_BASE_URL);

$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);
if (!($migx instanceof Migx))
    return \'\';
$migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : \'web\';

if (!empty($tvname)) {
    if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname))) {

        /*
        *   get inputProperties
        */


        $properties = $tv->get(\'input_properties\');
        $properties = isset($properties[\'formtabs\']) ? $properties : $tv->getProperties();

        $migx->config[\'configs\'] = $modx->getOption(\'configs\', $properties, \'\');
        if (!empty($migx->config[\'configs\'])) {
            $migx->loadConfigs();
            // get tabs from file or migx-config-table
            $formtabs = $migx->getTabs();
        }
        if (empty($formtabs) && isset($properties[\'formtabs\'])) {
            //try to get formtabs and its fields from properties
            $formtabs = $modx->fromJSON($properties[\'formtabs\']);
        }

        if (!empty($properties[\'basePath\'])) {
            if ($properties[\'autoResourceFolders\'] == \'true\') {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'basePath\'] . $docid . \'/\';
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'] . $docid . \'/\';
            } else {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'base_path\'];
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'];
            }
        }
        if ($jsonVarKey == \'migx_outputvalue\' && !empty($properties[\'jsonvarkey\'])) {
            $jsonVarKey = $properties[\'jsonvarkey\'];
            $outputvalue = $allow_request && isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
        }

        if (empty($outputvalue)) {
            $outputvalue = $tv->renderOutput($docid);
            if (empty($outputvalue) && !empty($inheritFrom)) {
                foreach ($inheritFrom as $from) {
                    if ($from == \'parents\') {
                        if (!empty($inherit_children_tvname)){
                            //try to get items from optional MIGX-TV for children
                            if ($inh_tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inherit_children_tvname))) {
                                $outputvalue = $inh_tv->processInheritBinding(\'\', $docid);    
                            }
                        }
                        $outputvalue = empty($outputvalue) ? $tv->processInheritBinding(\'\', $docid) : $outputvalue;
                    } else {
                        $outputvalue = $tv->renderOutput($from);
                    }
                    if (!empty($outputvalue)) {
                        break;
                    }
                }
            }
        }


        /*
        *   get inputTvs 
        */
        $inputTvs = array();
        if (is_array($formtabs)) {

            //multiple different Forms
            // Note: use same field-names and inputTVs in all forms
            $inputTvs = $migx->extractInputTvs($formtabs);
        }
        if ($migx->source = $tv->getSource($migx->working_context, false)) {
            $migx->source->initialize();
        }

    }


}

if (empty($outputvalue)) {
    $modx->setPlaceholder($totalVar, 0);
    return \'\';
}

//echo $outputvalue.\'<br/><br/>\';

$items = $modx->fromJSON($outputvalue);

// where filter
if (is_array($where) && count($where) > 0) {
    $items = $migx->filterItems($where, $items);
}
$modx->setPlaceholder($totalVar, count($items));

if (!empty($reverse)) {
    $items = array_reverse($items);
}

// sort items
if (is_array($sort) && count($sort) > 0) {
    $items = $migx->sortDbResult($items, $sort);
}

$summaries = array();
$output = \'\';
$items = $offset > 0 ? array_slice($items, $offset) : $items;
$count = count($items);

if ($count > 0) {
    $limit = $limit == 0 || $limit > $count ? $count : $limit;
    $preselectLimit = $preselectLimit > $count ? $count : $preselectLimit;
    //preselect important items
    $preitems = array();
    if ($randomize && $preselectLimit > 0) {
        for ($i = 0; $i < $preselectLimit; $i++) {
            $preitems[] = $items[$i];
            unset($items[$i]);
        }
        $limit = $limit - count($preitems);
    }

    //shuffle items
    if ($randomize) {
        shuffle($items);
    }

    //limit items
    $count = count($items);
    $tempitems = array();

    for ($i = 0; $i < $limit; $i++) {
        if ($i >= $count) {
            break;
        }
        $tempitems[] = $items[$i];
    }
    $items = $tempitems;

    //add preselected items and schuffle again
    if ($randomize && $preselectLimit > 0) {
        $items = array_merge($preitems, $items);
        shuffle($items);
    }

    $properties = array();
    foreach ($scriptProperties as $property => $value) {
        $properties[\'property.\' . $property] = $value;
    }

    $idx = 0;
    $output = array();
    $template = array();
    $count = count($items);

    foreach ($items as $key => $item) {
        $formname = isset($item[\'MIGX_formname\']) ? $item[\'MIGX_formname\'] . \'_\' : \'\';
        $fields = array();
        foreach ($item as $field => $value) {
            if (is_array($value)) {
                if (is_array($value[0])) {
                    //nested array - convert to json
                    $value = $modx->toJson($value);
                } else {
                    $value = implode(\'||\', $value); //handle arrays (checkboxes, multiselects)
                }
            }


            $inputTVkey = $formname . $field;

            if ($processTVs && isset($inputTvs[$inputTVkey])) {
                if (isset($inputTvs[$inputTVkey][\'inputTV\']) && $tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inputTvs[$inputTVkey][\'inputTV\']))) {

                } else {
                    $tv = $modx->newObject(\'modTemplateVar\');
                    $tv->set(\'type\', $inputTvs[$inputTVkey][\'inputTVtype\']);
                }
                $inputTV = $inputTvs[$inputTVkey];

                $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\', null, \'image,file\');
                //don\'t manipulate any urls here
                $modx->setOption(\'manipulatable_url_tv_output_types\', \'\');
                $tv->set(\'default_text\', $value);

                // $value = $tv->renderOutput($docid); breaks if the TV used in MIGX is also assigned to this Template,
                // example tv: imageLogo is assigned to the template and imageLogo is assigned to the MIGX TV as a result
                // only the value of the imageLogo is returned for the MIGX TV instance
                // need to override default MODX method: $value = $tv->renderOutput($docid);
                /* process any TV commands in value */
                $tv_value = $tv->processBindings($value, $docid);
                $params = $tv->get(\'output_properties\');
                if (empty($params) || $params === null) {
                    $params = [];
                }
                /* run prepareOutput to allow for custom overriding */
                $tv_value = $tv->prepareOutput($tv_value, $docid);
                /* find the render */
                $outputRenderPaths = $tv->getRenderDirectories(\'OnTVOutputRenderList\',\'output\');
                $value = $tv->getRender($params, $tv_value, $outputRenderPaths, \'output\', $docid, $tv->get(\'display\'));
                // End override of $value = $tv->renderOutput($docid);
				
                //set option back
                $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);
                //now manipulate urls
                if ($mediasource = $migx->getFieldSource($inputTV, $tv)) {
                    $mTypes = explode(\',\', $mTypes);
                    if (!empty($value) && in_array($tv->get(\'type\'), $mTypes)) {
                        //$value = $mediasource->prepareOutputUrl($value);
                        $value = str_replace(\'/./\', \'/\', $mediasource->prepareOutputUrl($value));
                    }
                }

            }
            $fields[$field] = $value;

        }

        if (!empty($addfields)) {
            foreach ($addfields as $addfield) {
                $addfield = explode(\':\', $addfield);
                $addname = $addfield[0];
                $adddefault = isset($addfield[1]) ? $addfield[1] : \'\';
                $fields[$addname] = $adddefault;
            }
        }

        if (!empty($sumFields)) {
            $sumFields = is_array($sumFields) ? $sumFields : explode(\',\', $sumFields);
            foreach ($sumFields as $sumField) {
                if (isset($fields[$sumField])) {
                    $summaries[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField] + $fields[$sumField];
                    $fields[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField];
                }
            }
        }


        if ($toJsonPlaceholder) {
            $output[] = $fields;
        } else {
            $fields[\'_alt\'] = $idx % 2;
            $idx++;
            $fields[\'_first\'] = $idx == 1 ? true : \'\';
            $fields[\'_last\'] = $idx == $limit ? true : \'\';
            $fields[\'idx\'] = $idx;
            $rowtpl = \'\';
            //get changing tpls from field
            if (substr($tpl, 0, 7) == "@FIELD:") {
                $tplField = substr($tpl, 7);
                $rowtpl = $fields[$tplField];
            }

            if ($fields[\'_first\'] && !empty($tplFirst)) {
                $rowtpl = $tplFirst;
            }
            if ($fields[\'_last\'] && empty($rowtpl) && !empty($tplLast)) {
                $rowtpl = $tplLast;
            }
            $tplidx = \'tpl_\' . $idx;
            if (empty($rowtpl) && !empty($$tplidx)) {
                $rowtpl = $$tplidx;
            }
            if ($idx > 1 && empty($rowtpl)) {
                $divisors = $migx->getDivisors($idx);
                if (!empty($divisors)) {
                    foreach ($divisors as $divisor) {
                        $tplnth = \'tpl_n\' . $divisor;
                        if (!empty($$tplnth)) {
                            $rowtpl = $$tplnth;
                            if (!empty($rowtpl)) {
                                break;
                            }
                        }
                    }
                }
            }

            if ($count == 1 && isset($tpl_oneresult)) {
                $rowtpl = $tpl_oneresult;
            }

            $fields = array_merge($fields, $properties);

            if (!empty($rowtpl)) {
                $template = $migx->getTemplate($tpl, $template);
                $fields[\'_tpl\'] = $template[$tpl];
            } else {
                $rowtpl = $tpl;

            }
            $template = $migx->getTemplate($rowtpl, $template);


            if ($template[$rowtpl]) {
                $chunk = $modx->newObject(\'modChunk\');
                $chunk->setCacheable(false);
                $chunk->setContent($template[$rowtpl]);


                if (!empty($placeholdersKeyField) && isset($fields[$placeholdersKeyField])) {
                    $output[$fields[$placeholdersKeyField]] = $chunk->process($fields);
                } else {
                    $output[] = $chunk->process($fields);
                }
            } else {
                if (!empty($placeholdersKeyField)) {
                    $output[$fields[$placeholdersKeyField]] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                } else {
                    $output[] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                }
            }
        }


    }
}

if (count($summaries) > 0) {
    $modx->toPlaceholders($summaries);
}


if ($toJsonPlaceholder) {
    $modx->setPlaceholder($toJsonPlaceholder, $modx->toJson($output));
    return \'\';
}

if (!empty($toSeparatePlaceholders)) {
    $modx->toPlaceholders($output, $toSeparatePlaceholders);
    return \'\';
}
/*
if (!empty($outerTpl))
$o = parseTpl($outerTpl, array(\'output\'=>implode($outputSeparator, $output)));
else 
*/

if ($count > 0 && $splits > 0) {
    $size = ceil($count / $splits);
    $chunks = array_chunk($output, $size);
    $output = array();
    foreach ($chunks as $chunk) {
        $o = implode($outputSeparator, $chunk);
        $output[] = $modx->getChunk($splitTpl, array(\'output\' => $o));
    }
    $outputSeparator = $splitSeparator;
}

if (is_array($output)) {
    $o = implode($outputSeparator, $output);
} else {
    $o = $output;
}

if (!empty($o) && !empty($wrapperTpl)) {
    $template = $migx->getTemplate($wrapperTpl);
    if ($template[$wrapperTpl]) {
        $chunk = $modx->newObject(\'modChunk\');
        $chunk->setCacheable(false);
        $chunk->setContent($template[$wrapperTpl]);
        $properties[\'output\'] = $o;
        $o = $chunk->process($properties);
    }
}

if (empty($o) && !empty($emptyTpl)) {
    $template = $migx->getTemplate($emptyTpl);
    if ($template[$emptyTpl]) {
        $chunk = $modx->newObject(\'modChunk\');
        $chunk->setCacheable(false);
        $chunk->setContent($template[$emptyTpl]);
        $o = $chunk->process($properties);
    }
}

if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $o);
    return \'\';
}

return $o;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
      'TVTable' => 
      array (
        'fields' => 
        array (
          'id' => 15,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'TVTable',
          'description' => '',
          'editor_type' => 0,
          'category' => 8,
          'cache_type' => 0,
          'snippet' => '/** @var modX $modx */
/** @var array $scriptProperties */

$tv = $modx->getOption(\'tv\', $scriptProperties, \'\');
$input = $modx->getOption(\'input\', $scriptProperties, \'\');
$resource = (int) $modx->getOption(\'id\', $scriptProperties, \'\');
$x = $modx->getOption(\'getX\', $scriptProperties, \'\');
$y = $modx->getOption(\'getY\', $scriptProperties, \'\');
$head = $modx->getOption(\'head\', $scriptProperties, true, true);
$display_headers = $modx->getOption(\'displayHeaders\', $scriptProperties, false, true);

$tdTpl = $modx->getOption(\'tdTpl\', $scriptProperties, \'@INLINE <td>[[+val]]</td>\', true);
$thTpl = $modx->getOption(\'thTpl\', $scriptProperties, \'@INLINE <th>[[+val]]</th>\', true);
$trTpl = $modx->getOption(\'trTpl\', $scriptProperties, \'@INLINE <tr>[[+cells]]</tr>\', true);
$wrapperTpl = $modx->getOption(\'wrapperTpl\', $scriptProperties, \'@INLINE <table class="[[+classname]]">[[+table]]</table>\', true);

$tableClass = $modx->getOption(\'tableClass\', $scriptProperties, \'tvtable\', true);
$headClass = $modx->getOption(\'headClass\', $scriptProperties, \'\');
$bodyClass = $modx->getOption(\'bodyClass\', $scriptProperties, \'\');

$classname = !empty($classname) ? $classname : $tableClass;
$headOpen = empty($headClass) ? \'<thead>\' : \'<thead class="\' . $headClass . \'">\';
$bodyOpen = empty($bodyClass) ? \'<tbody>\' : \'<tbody class="\' . $bodyClass . \'">\';

if (empty($tv) && empty($input)) return;

if (empty($input)) {
    if (!empty($resource)) {
        $resource = $modx->getObject(\'modResource\', array(\'id\' => $resource));
        if (!$resource instanceof modResource) return;
        $value = $resource->getTVValue($tv);
    } else {
        $value = $modx->resource->getTVValue($tv);
    }
} else {
    $value = $input;
}

if (!$tvtArr = $modx->fromJSON($value)) { return; };

if ($x == \'first\') $x = 0;
if ($y == \'first\') $y = 0;

$values = array();

if ($x !== \'\' && $y === \'\') {
    $directionX = true;
    if ($x === \'last\') {
        $values = array_pop($tvtArr);
    } else {
        $values = $tvtArr[$x];
    }
} elseif ($x === \'\' && $y !== \'\') {
    $directionY = true;
    if (count($tvtArr[0]) > $y) {
        foreach ($tvtArr as $key => $row) {
            if ($y === \'last\') { $y = count($tvtArr[$key]) - 1; }
            $values[$key] = $tvtArr[$key][$y];
        }
    }
} elseif ($x !== \'\' && $y !== \'\') {
    if ($x === \'last\') { $x = count($tvtArr) - 1; }
    if ($y === \'last\') { $y = count($tvtArr[$x]) - 1; }
    return $tvtArr[$x][$y];
} else {
    $values = $tvtArr;
}

if ($display_headers && count($values)) {
    $query = $modx->newQuery(\'modTemplateVar\');
    $query->where(array(\'id\' => $tv));
    $query->where(array(\'name\' => $tv), xPDOQuery::SQL_OR);
    if ($tv_obj = $modx->getObject(\'modTemplateVar\', $query)) {
        $tv_props = $tv_obj->get(\'input_properties\');
        $headers = explode(\'||\', $tv_props[\'headers\']);
        $headersDefault = $tv_props[\'headers_default\'];
        if (count($headers)) {
            $column_count = ($directionX || $directionY) ? count($values) : count($values[0]);
            $header_row = array();
            if ($directionY) {
                $header_row = $headers[$y] ?: $headersDefault;
            } else {
                for ($i = 0; $i < $column_count; $i++) {
                    $header_row[] = $headers[$i] ?: $headersDefault;
                }
            }
            if ($directionX) {
                $directionX = false;
                $values = array($header_row, $values);
            } else {
                array_unshift($values, $header_row);
            }
        }
    }
}

if (empty($values)) return;

/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->addTime(\'pdoTools loaded\');
$output = $pdoFetch->run();
$fastMode = $pdoFetch->config[\'fastMode\'];

if ($directionX) {
    $directionXTpl = $head ? $thTpl : $tdTpl;
    foreach ($values as $value) {
        $cells .= $pdoFetch->getChunk($directionXTpl, array(\'val\' => $value), $fastMode);
    }
    $rows .= $head ? $headOpen : $bodyOpen;
    $rows .= $pdoFetch->getChunk($trTpl, array(\'cells\' => $cells, \'idx\' => $x), $fastMode);
    $rows .= $head ? \'</thead>\' : \'</tbody>\';
} else {
    if ($head) {
        $rows .= $headOpen;
        $head = array_shift($values);
        $headCells = \'\';
        if (is_array($head)) {
            $col = 0;
            foreach ($head as $row) {
                $headCells .= $pdoFetch->getChunk($thTpl, array(\'val\' => $row, \'row\' => $idx + 1, \'col\' => $col + 1), $fastMode);
                $col++;
            }
        } else {
            $headCells .= $pdoFetch->getChunk($thTpl, array(\'val\' => $head), $fastMode);
        }
        $rows .= $pdoFetch->getChunk($trTpl, array(\'cells\' => $headCells, \'idx\' => 0), $fastMode);
        $rows .= \'</thead>\';
    }
    if ($values) {
        $rows .= $bodyOpen;
        $idx = $head ? 1 : 0;
        foreach ($values as $row) {
            $cells = \'\';
            if(is_array($row)) {
                $col = 0;
                foreach ($row as $cell) {
                    $cells .= $pdoFetch->getChunk($tdTpl, array(\'val\' => $cell, \'row\' => $idx + 1, \'col\' => $col + 1), $fastMode);
                    $col++;
                }
            } else {
                $cells .= $pdoFetch->getChunk($tdTpl, array(\'val\' => $row), $fastMode);
            }
            $rows .= $pdoFetch->getChunk($trTpl, array(\'cells\' => $cells, \'idx\' => $idx), $fastMode);
            $idx++;
        }
        $rows .= \'</tbody>\';
    }
}

$output = $pdoFetch->getChunk($wrapperTpl, array(\'table\' => $rows, \'classname\' => $classname), $fastMode);

return $output;',
          'locked' => false,
          'properties' => 
          array (
            'tableClass' => 
            array (
              'name' => 'tableClass',
              'desc' => 'tvtable_prop_tableClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'CSS класс таблицы',
              'area_trans' => '',
            ),
            'headClass' => 
            array (
              'name' => 'headClass',
              'desc' => 'tvtable_prop_headClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'CSS класс тега &lt;thead&gt;',
              'area_trans' => '',
            ),
            'bodyClass' => 
            array (
              'name' => 'bodyClass',
              'desc' => 'tvtable_prop_bodyClass',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'CSS класс тега &lt;tbody&gt;',
              'area_trans' => '',
            ),
            'head' => 
            array (
              'name' => 'head',
              'desc' => 'tvtable_prop_head',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => true,
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'Вывод таблицы с &lt;thead&gt;',
              'area_trans' => '',
            ),
            'tv' => 
            array (
              'name' => 'tv',
              'desc' => 'tvtable_prop_tv',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'ID или название TV параметра',
              'area_trans' => '',
            ),
            'id' => 
            array (
              'name' => 'id',
              'desc' => 'tvtable_prop_id',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'ID ресурса. Если не указан, используется id текущего документа',
              'area_trans' => '',
            ),
            'tdTpl' => 
            array (
              'name' => 'tdTpl',
              'desc' => 'tvtable_prop_tdTpl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <td>[[+val]]</td>',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'Чанк &lt;td&gt;',
              'area_trans' => '',
            ),
            'thTpl' => 
            array (
              'name' => 'thTpl',
              'desc' => 'tvtable_prop_thTpl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <th>[[+val]]</th>',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'Чанк &lt;th&gt;',
              'area_trans' => '',
            ),
            'trTpl' => 
            array (
              'name' => 'trTpl',
              'desc' => 'tvtable_prop_trTpl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <tr>[[+cells]]</tr>',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'Чанк &lt;tr&gt;',
              'area_trans' => '',
            ),
            'wrapperTpl' => 
            array (
              'name' => 'wrapperTpl',
              'desc' => 'tvtable_prop_wrapperTpl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '@INLINE <table class="[[+classname]]">[[+table]]</table>',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'Чанк-обертка таблицы',
              'area_trans' => '',
            ),
            'getY' => 
            array (
              'name' => 'getY',
              'desc' => 'tvtable_prop_getY',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'Вывод столбца по индексу. Также можно указывать <strong>first</strong> и <strong>last</strong>',
              'area_trans' => '',
            ),
            'getX' => 
            array (
              'name' => 'getX',
              'desc' => 'tvtable_prop_getX',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'tvtable:properties',
              'area' => '',
              'desc_trans' => 'Вывод строки по индексу. Также можно указывать <strong>first</strong> и <strong>last</strong>',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => 'core/components/tvtable/elements/snippets/snippet.tvtable.php',
          'content' => '/** @var modX $modx */
/** @var array $scriptProperties */

$tv = $modx->getOption(\'tv\', $scriptProperties, \'\');
$input = $modx->getOption(\'input\', $scriptProperties, \'\');
$resource = (int) $modx->getOption(\'id\', $scriptProperties, \'\');
$x = $modx->getOption(\'getX\', $scriptProperties, \'\');
$y = $modx->getOption(\'getY\', $scriptProperties, \'\');
$head = $modx->getOption(\'head\', $scriptProperties, true, true);
$display_headers = $modx->getOption(\'displayHeaders\', $scriptProperties, false, true);

$tdTpl = $modx->getOption(\'tdTpl\', $scriptProperties, \'@INLINE <td>[[+val]]</td>\', true);
$thTpl = $modx->getOption(\'thTpl\', $scriptProperties, \'@INLINE <th>[[+val]]</th>\', true);
$trTpl = $modx->getOption(\'trTpl\', $scriptProperties, \'@INLINE <tr>[[+cells]]</tr>\', true);
$wrapperTpl = $modx->getOption(\'wrapperTpl\', $scriptProperties, \'@INLINE <table class="[[+classname]]">[[+table]]</table>\', true);

$tableClass = $modx->getOption(\'tableClass\', $scriptProperties, \'tvtable\', true);
$headClass = $modx->getOption(\'headClass\', $scriptProperties, \'\');
$bodyClass = $modx->getOption(\'bodyClass\', $scriptProperties, \'\');

$classname = !empty($classname) ? $classname : $tableClass;
$headOpen = empty($headClass) ? \'<thead>\' : \'<thead class="\' . $headClass . \'">\';
$bodyOpen = empty($bodyClass) ? \'<tbody>\' : \'<tbody class="\' . $bodyClass . \'">\';

if (empty($tv) && empty($input)) return;

if (empty($input)) {
    if (!empty($resource)) {
        $resource = $modx->getObject(\'modResource\', array(\'id\' => $resource));
        if (!$resource instanceof modResource) return;
        $value = $resource->getTVValue($tv);
    } else {
        $value = $modx->resource->getTVValue($tv);
    }
} else {
    $value = $input;
}

if (!$tvtArr = $modx->fromJSON($value)) { return; };

if ($x == \'first\') $x = 0;
if ($y == \'first\') $y = 0;

$values = array();

if ($x !== \'\' && $y === \'\') {
    $directionX = true;
    if ($x === \'last\') {
        $values = array_pop($tvtArr);
    } else {
        $values = $tvtArr[$x];
    }
} elseif ($x === \'\' && $y !== \'\') {
    $directionY = true;
    if (count($tvtArr[0]) > $y) {
        foreach ($tvtArr as $key => $row) {
            if ($y === \'last\') { $y = count($tvtArr[$key]) - 1; }
            $values[$key] = $tvtArr[$key][$y];
        }
    }
} elseif ($x !== \'\' && $y !== \'\') {
    if ($x === \'last\') { $x = count($tvtArr) - 1; }
    if ($y === \'last\') { $y = count($tvtArr[$x]) - 1; }
    return $tvtArr[$x][$y];
} else {
    $values = $tvtArr;
}

if ($display_headers && count($values)) {
    $query = $modx->newQuery(\'modTemplateVar\');
    $query->where(array(\'id\' => $tv));
    $query->where(array(\'name\' => $tv), xPDOQuery::SQL_OR);
    if ($tv_obj = $modx->getObject(\'modTemplateVar\', $query)) {
        $tv_props = $tv_obj->get(\'input_properties\');
        $headers = explode(\'||\', $tv_props[\'headers\']);
        $headersDefault = $tv_props[\'headers_default\'];
        if (count($headers)) {
            $column_count = ($directionX || $directionY) ? count($values) : count($values[0]);
            $header_row = array();
            if ($directionY) {
                $header_row = $headers[$y] ?: $headersDefault;
            } else {
                for ($i = 0; $i < $column_count; $i++) {
                    $header_row[] = $headers[$i] ?: $headersDefault;
                }
            }
            if ($directionX) {
                $directionX = false;
                $values = array($header_row, $values);
            } else {
                array_unshift($values, $header_row);
            }
        }
    }
}

if (empty($values)) return;

/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->addTime(\'pdoTools loaded\');
$output = $pdoFetch->run();
$fastMode = $pdoFetch->config[\'fastMode\'];

if ($directionX) {
    $directionXTpl = $head ? $thTpl : $tdTpl;
    foreach ($values as $value) {
        $cells .= $pdoFetch->getChunk($directionXTpl, array(\'val\' => $value), $fastMode);
    }
    $rows .= $head ? $headOpen : $bodyOpen;
    $rows .= $pdoFetch->getChunk($trTpl, array(\'cells\' => $cells, \'idx\' => $x), $fastMode);
    $rows .= $head ? \'</thead>\' : \'</tbody>\';
} else {
    if ($head) {
        $rows .= $headOpen;
        $head = array_shift($values);
        $headCells = \'\';
        if (is_array($head)) {
            $col = 0;
            foreach ($head as $row) {
                $headCells .= $pdoFetch->getChunk($thTpl, array(\'val\' => $row, \'row\' => $idx + 1, \'col\' => $col + 1), $fastMode);
                $col++;
            }
        } else {
            $headCells .= $pdoFetch->getChunk($thTpl, array(\'val\' => $head), $fastMode);
        }
        $rows .= $pdoFetch->getChunk($trTpl, array(\'cells\' => $headCells, \'idx\' => 0), $fastMode);
        $rows .= \'</thead>\';
    }
    if ($values) {
        $rows .= $bodyOpen;
        $idx = $head ? 1 : 0;
        foreach ($values as $row) {
            $cells = \'\';
            if(is_array($row)) {
                $col = 0;
                foreach ($row as $cell) {
                    $cells .= $pdoFetch->getChunk($tdTpl, array(\'val\' => $cell, \'row\' => $idx + 1, \'col\' => $col + 1), $fastMode);
                    $col++;
                }
            } else {
                $cells .= $pdoFetch->getChunk($tdTpl, array(\'val\' => $row), $fastMode);
            }
            $rows .= $pdoFetch->getChunk($trTpl, array(\'cells\' => $cells, \'idx\' => $idx), $fastMode);
            $idx++;
        }
        $rows .= \'</tbody>\';
    }
}

$output = $pdoFetch->getChunk($wrapperTpl, array(\'table\' => $rows, \'classname\' => $classname), $fastMode);

return $output;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'if' => 
      array (
        'fields' => 
        array (
          'id' => 14,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'If',
          'description' => 'Simple if (conditional) snippet',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '/**
 * If
 *
 * Copyright 2009-2010 by Jason Coward <jason@modx.com> and Shaun McCormick
 * <shaun@modx.com>
 *
 * If is free software; you can redistribute it and/or modify it under the terms
 * of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * If is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * If; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package if
 */
/**
 * Simple if (conditional) snippet
 *
 * @package if
 */
if (!empty($debug)) {
    print_r($scriptProperties);
    if (!empty($die)) die();
}
$modx->parser->processElementTags(\'\',$subject,true,true);

$output = \'\';
$operator = !empty($operator) ? $operator : \'\';
$operand = !isset($operand) ? \'\' : $operand;
if (isset($subject)) {
    if (!empty($operator)) {
        $operator = strtolower($operator);
        switch ($operator) {
            case \'!=\':
            case \'neq\':
            case \'not\':
            case \'isnot\':
            case \'isnt\':
            case \'unequal\':
            case \'notequal\':
                $output = (($subject != $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'<\':
            case \'lt\':
            case \'less\':
            case \'lessthan\':
                $output = (($subject < $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'>\':
            case \'gt\':
            case \'greater\':
            case \'greaterthan\':
                $output = (($subject > $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'<=\':
            case \'lte\':
            case \'lessthanequals\':
            case \'lessthanorequalto\':
                $output = (($subject <= $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'>=\':
            case \'gte\':
            case \'greaterthanequals\':
            case \'greaterthanequalto\':
                $output = (($subject >= $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'isempty\':
            case \'empty\':
                $output = empty($subject) ? $then : (isset($else) ? $else : \'\');
                break;
            case \'!empty\':
            case \'notempty\':
            case \'isnotempty\':
                $output = !empty($subject) && $subject != \'\' ? $then : (isset($else) ? $else : \'\');
                break;
            case \'isnull\':
            case \'null\':
                $output = $subject == null || strtolower($subject) == \'null\' ? $then : (isset($else) ? $else : \'\');
                break;
            case \'inarray\':
            case \'in_array\':
            case \'ia\':
                $operand = explode(\',\',$operand);
                $output = in_array($subject,$operand) ? $then : (isset($else) ? $else : \'\');
                break;
            case \'==\':
            case \'=\':
            case \'eq\':
            case \'is\':
            case \'equal\':
            case \'equals\':
            case \'equalto\':
            default:
                $output = (($subject == $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
        }
    }
}
if (!empty($debug)) { var_dump($output); }
unset($subject);
return $output;',
          'locked' => false,
          'properties' => 
          array (
            'subject' => 
            array (
              'name' => 'subject',
              'desc' => 'The data being affected.',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'The data being affected.',
              'area_trans' => '',
            ),
            'operator' => 
            array (
              'name' => 'operator',
              'desc' => 'The type of conditional.',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'value' => 'EQ',
                  'text' => 'EQ',
                  'name' => 'EQ',
                ),
                1 => 
                array (
                  'value' => 'NEQ',
                  'text' => 'NEQ',
                  'name' => 'NEQ',
                ),
                2 => 
                array (
                  'value' => 'LT',
                  'text' => 'LT',
                  'name' => 'LT',
                ),
                3 => 
                array (
                  'value' => 'GT',
                  'text' => 'GT',
                  'name' => 'GT',
                ),
                4 => 
                array (
                  'value' => 'LTE',
                  'text' => 'LTE',
                  'name' => 'LTE',
                ),
                5 => 
                array (
                  'value' => 'GT',
                  'text' => 'GTE',
                  'name' => 'GTE',
                ),
                6 => 
                array (
                  'value' => 'EMPTY',
                  'text' => 'EMPTY',
                  'name' => 'EMPTY',
                ),
                7 => 
                array (
                  'value' => 'NOTEMPTY',
                  'text' => 'NOTEMPTY',
                  'name' => 'NOTEMPTY',
                ),
                8 => 
                array (
                  'value' => 'ISNULL',
                  'text' => 'ISNULL',
                  'name' => 'ISNULL',
                ),
                9 => 
                array (
                  'value' => 'inarray',
                  'text' => 'INARRAY',
                  'name' => 'INARRAY',
                ),
              ),
              'value' => 'EQ',
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'The type of conditional.',
              'area_trans' => '',
            ),
            'operand' => 
            array (
              'name' => 'operand',
              'desc' => 'When comparing to the subject, this is the data to compare to.',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'When comparing to the subject, this is the data to compare to.',
              'area_trans' => '',
            ),
            'then' => 
            array (
              'name' => 'then',
              'desc' => 'If conditional was successful, output this.',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'If conditional was successful, output this.',
              'area_trans' => '',
            ),
            'else' => 
            array (
              'name' => 'else',
              'desc' => 'If conditional was unsuccessful, output this.',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'If conditional was unsuccessful, output this.',
              'area_trans' => '',
            ),
            'debug' => 
            array (
              'name' => 'debug',
              'desc' => 'Will output the parameters passed in, as well as the end output. Leave off when not testing.',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => NULL,
              'area' => '',
              'desc_trans' => 'Will output the parameters passed in, as well as the end output. Leave off when not testing.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * If
 *
 * Copyright 2009-2010 by Jason Coward <jason@modx.com> and Shaun McCormick
 * <shaun@modx.com>
 *
 * If is free software; you can redistribute it and/or modify it under the terms
 * of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * If is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * If; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package if
 */
/**
 * Simple if (conditional) snippet
 *
 * @package if
 */
if (!empty($debug)) {
    print_r($scriptProperties);
    if (!empty($die)) die();
}
$modx->parser->processElementTags(\'\',$subject,true,true);

$output = \'\';
$operator = !empty($operator) ? $operator : \'\';
$operand = !isset($operand) ? \'\' : $operand;
if (isset($subject)) {
    if (!empty($operator)) {
        $operator = strtolower($operator);
        switch ($operator) {
            case \'!=\':
            case \'neq\':
            case \'not\':
            case \'isnot\':
            case \'isnt\':
            case \'unequal\':
            case \'notequal\':
                $output = (($subject != $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'<\':
            case \'lt\':
            case \'less\':
            case \'lessthan\':
                $output = (($subject < $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'>\':
            case \'gt\':
            case \'greater\':
            case \'greaterthan\':
                $output = (($subject > $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'<=\':
            case \'lte\':
            case \'lessthanequals\':
            case \'lessthanorequalto\':
                $output = (($subject <= $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'>=\':
            case \'gte\':
            case \'greaterthanequals\':
            case \'greaterthanequalto\':
                $output = (($subject >= $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
            case \'isempty\':
            case \'empty\':
                $output = empty($subject) ? $then : (isset($else) ? $else : \'\');
                break;
            case \'!empty\':
            case \'notempty\':
            case \'isnotempty\':
                $output = !empty($subject) && $subject != \'\' ? $then : (isset($else) ? $else : \'\');
                break;
            case \'isnull\':
            case \'null\':
                $output = $subject == null || strtolower($subject) == \'null\' ? $then : (isset($else) ? $else : \'\');
                break;
            case \'inarray\':
            case \'in_array\':
            case \'ia\':
                $operand = explode(\',\',$operand);
                $output = in_array($subject,$operand) ? $then : (isset($else) ? $else : \'\');
                break;
            case \'==\':
            case \'=\':
            case \'eq\':
            case \'is\':
            case \'equal\':
            case \'equals\':
            case \'equalto\':
            default:
                $output = (($subject == $operand) ? $then : (isset($else) ? $else : \'\'));
                break;
        }
    }
}
if (!empty($debug)) { var_dump($output); }
unset($subject);
return $output;',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
      'Wayfinder' => 
      array (
        'fields' => 
        array (
          'id' => 11,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'Wayfinder',
          'description' => 'Wayfinder for MODx Revolution 2.0.0-beta-5 and later.',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => '/**
 * Wayfinder Snippet to build site navigation menus
 *
 * Totally refactored from original DropMenu nav builder to make it easier to
 * create custom navigation by using chunks as output templates. By using
 * templates, many of the paramaters are no longer needed for flexible output
 * including tables, unordered- or ordered-lists (ULs or OLs), definition lists
 * (DLs) or in any other format you desire.
 *
 * @version 2.1.1-beta5
 * @author Garry Nutting (collabpad.com)
 * @author Kyle Jaebker (muddydogpaws.com)
 * @author Ryan Thrash (modx.com)
 * @author Shaun McCormick (modx.com)
 * @author Jason Coward (modx.com)
 *
 * @example [[Wayfinder? &startId=`0`]]
 *
 * @var modX $modx
 * @var array $scriptProperties
 * 
 * @package wayfinder
 */
$wayfinder_base = $modx->getOption(\'wayfinder.core_path\',$scriptProperties,$modx->getOption(\'core_path\').\'components/wayfinder/\');

/* include a custom config file if specified */
if (isset($scriptProperties[\'config\'])) {
    $scriptProperties[\'config\'] = str_replace(\'../\',\'\',$scriptProperties[\'config\']);
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/\'.$scriptProperties[\'config\'].\'.config.php\';
} else {
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/default.config.php\';
}
if (file_exists($scriptProperties[\'config\'])) {
    include $scriptProperties[\'config\'];
}

/* include wayfinder class */
include_once $wayfinder_base.\'wayfinder.class.php\';
if (!$modx->loadClass(\'Wayfinder\',$wayfinder_base,true,true)) {
    return \'error: Wayfinder class not found\';
}
$wf = new Wayfinder($modx,$scriptProperties);

/* get user class definitions
 * TODO: eventually move these into config parameters */
$wf->_css = array(
    \'first\' => isset($firstClass) ? $firstClass : \'\',
    \'last\' => isset($lastClass) ? $lastClass : \'last\',
    \'here\' => isset($hereClass) ? $hereClass : \'active\',
    \'parent\' => isset($parentClass) ? $parentClass : \'\',
    \'row\' => isset($rowClass) ? $rowClass : \'\',
    \'outer\' => isset($outerClass) ? $outerClass : \'\',
    \'inner\' => isset($innerClass) ? $innerClass : \'\',
    \'level\' => isset($levelClass) ? $levelClass: \'\',
    \'self\' => isset($selfClass) ? $selfClass : \'\',
    \'weblink\' => isset($webLinkClass) ? $webLinkClass : \'\'
);

/* get user templates
 * TODO: eventually move these into config parameters */
$wf->_templates = array(
    \'outerTpl\' => isset($outerTpl) ? $outerTpl : \'\',
    \'rowTpl\' => isset($rowTpl) ? $rowTpl : \'\',
    \'parentRowTpl\' => isset($parentRowTpl) ? $parentRowTpl : \'\',
    \'parentRowHereTpl\' => isset($parentRowHereTpl) ? $parentRowHereTpl : \'\',
    \'hereTpl\' => isset($hereTpl) ? $hereTpl : \'\',
    \'innerTpl\' => isset($innerTpl) ? $innerTpl : \'\',
    \'innerRowTpl\' => isset($innerRowTpl) ? $innerRowTpl : \'\',
    \'innerHereTpl\' => isset($innerHereTpl) ? $innerHereTpl : \'\',
    \'activeParentRowTpl\' => isset($activeParentRowTpl) ? $activeParentRowTpl : \'\',
    \'categoryFoldersTpl\' => isset($categoryFoldersTpl) ? $categoryFoldersTpl : \'\',
    \'startItemTpl\' => isset($startItemTpl) ? $startItemTpl : \'\'
);

/* process Wayfinder */
$output = $wf->run();
if ($wf->_config[\'debug\']) {
    $output .= $wf->renderDebugOutput();
}

/* output results */
if ($wf->_config[\'ph\']) {
    $modx->setPlaceholder($wf->_config[\'ph\'],$output);
} else {
    return $output;
}',
          'locked' => false,
          'properties' => 
          array (
            'level' => 
            array (
              'name' => 'level',
              'desc' => 'prop_wayfinder.level_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Depth (number of levels) to build the menu from. 0 goes through all levels.',
              'area' => '',
              'area_trans' => '',
            ),
            'includeDocs' => 
            array (
              'name' => 'includeDocs',
              'desc' => 'prop_wayfinder.includeDocs_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Acts as a filter and will limit the output to only the documents specified in this parameter. The startId is still required.',
              'area' => '',
              'area_trans' => '',
            ),
            'excludeDocs' => 
            array (
              'name' => 'excludeDocs',
              'desc' => 'prop_wayfinder.excludeDocs_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Acts as a filter and will remove the documents specified in this parameter from the output. The startId is still required.',
              'area' => '',
              'area_trans' => '',
            ),
            'contexts' => 
            array (
              'name' => 'contexts',
              'desc' => 'prop_wayfinder.contexts_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Specify the contexts for the Resources that will be loaded in this menu. Useful when used with startId at 0 to show all first-level items. Note: This will increase load times a bit, but if you set cacheResults to 1, that will offset the load time.',
              'area' => '',
              'area_trans' => '',
            ),
            'cacheResults' => 
            array (
              'name' => 'cacheResults',
              'desc' => 'prop_wayfinder.cacheResults_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Cache the generated menu to the MODX Resource cache. Setting this to 1 will speed up the loading of your menus.',
              'area' => '',
              'area_trans' => '',
            ),
            'cacheTime' => 
            array (
              'name' => 'cacheTime',
              'desc' => 'prop_wayfinder.cacheTime_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 3600,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The number of seconds to store the cached menu, if cacheResults is 1. Set to 0 to store indefinitely until cache is manually cleared.',
              'area' => '',
              'area_trans' => '',
            ),
            'ph' => 
            array (
              'name' => 'ph',
              'desc' => 'prop_wayfinder.ph_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'To display send the output of Wayfinder to a placeholder set the ph parameter equal to the name of the desired placeholder. All output including the debugging (if on) will be sent to the placeholder specified.',
              'area' => '',
              'area_trans' => '',
            ),
            'debug' => 
            array (
              'name' => 'debug',
              'desc' => 'prop_wayfinder.debug_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'With the debug parameter set to 1, Wayfinder will output information on how each Resource was processed.',
              'area' => '',
              'area_trans' => '',
            ),
            'ignoreHidden' => 
            array (
              'name' => 'ignoreHidden',
              'desc' => 'prop_wayfinder.ignoreHidden_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The ignoreHidden parameter allows Wayfinder to ignore the display in menu flag that can be set for each document. With this parameter set to 1, all Resources will be displayed regardless of the Display in Menu flag.',
              'area' => '',
              'area_trans' => '',
            ),
            'hideSubMenus' => 
            array (
              'name' => 'hideSubMenus',
              'desc' => 'prop_wayfinder.hideSubMenus_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'The hideSubMenus parameter will remove all non-active submenus from the Wayfinder output if set to 1. This parameter only works if multiple levels are being displayed.',
              'area' => '',
              'area_trans' => '',
            ),
            'useWeblinkUrl' => 
            array (
              'name' => 'useWeblinkUrl',
              'desc' => 'prop_wayfinder.useWeblinkUrl_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => true,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => ' If WebLinks are used in the output, Wayfinder will output the link specified in the WebLink instead of the normal MODx link. To use the standard display of WebLinks (like any other Resource) set this to 0.',
              'area' => '',
              'area_trans' => '',
            ),
            'fullLink' => 
            array (
              'name' => 'fullLink',
              'desc' => 'prop_wayfinder.fullLink_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'If set to 1, will display the entire, absolute URL in the link. (It is recommended to use scheme instead.)',
              'area' => '',
              'area_trans' => '',
            ),
            'scheme' => 
            array (
              'name' => 'scheme',
              'desc' => 'prop_wayfinder.scheme_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'prop_wayfinder.relative',
                  'value' => '',
                  'name' => 'Relative',
                ),
                1 => 
                array (
                  'text' => 'prop_wayfinder.absolute',
                  'value' => 'abs',
                  'name' => 'Absolute',
                ),
                2 => 
                array (
                  'text' => 'prop_wayfinder.full',
                  'value' => 'full',
                  'name' => 'Full',
                ),
              ),
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Determines how URLs are generated for each link. Set to "abs" to show the absolute URL, "full" to show the full URL, and blank to use the relative URL. Defaults to relative.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortOrder' => 
            array (
              'name' => 'sortOrder',
              'desc' => 'prop_wayfinder.sortOrder_desc',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'prop_wayfinder.ascending',
                  'value' => 'ASC',
                  'name' => 'Ascending',
                ),
                1 => 
                array (
                  'text' => 'prop_wayfinder.descending',
                  'value' => 'DESC',
                  'name' => 'Descending',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Allows the menu to be sorted in either ascending or descending order.',
              'area' => '',
              'area_trans' => '',
            ),
            'sortBy' => 
            array (
              'name' => 'sortBy',
              'desc' => 'prop_wayfinder.sortBy_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'menuindex',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Sorts the output by any of the Resource fields on a level by level basis. This means that each submenu will be sorted independently of all other submenus at the same level. Random will sort the output differently every time the page is loaded if the snippet is called uncached.',
              'area' => '',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'prop_wayfinder.limit_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '0',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Causes Wayfinder to only process the number of items specified per level.',
              'area' => '',
              'area_trans' => '',
            ),
            'cssTpl' => 
            array (
              'name' => 'cssTpl',
              'desc' => 'prop_wayfinder.cssTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This parameter allows for a chunk containing a link to a style sheet or style information to be inserted into the head section of the generated page.',
              'area' => '',
              'area_trans' => '',
            ),
            'jsTpl' => 
            array (
              'name' => 'jsTpl',
              'desc' => 'prop_wayfinder.jsTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This parameter allows for a chunk containing some Javascript to be inserted into the head section of the generated page.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowIdPrefix' => 
            array (
              'name' => 'rowIdPrefix',
              'desc' => 'prop_wayfinder.rowIdPrefix_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'If set, Wayfinder will replace the id placeholder with a unique id consisting of the specified prefix plus the Resource id.',
              'area' => '',
              'area_trans' => '',
            ),
            'textOfLinks' => 
            array (
              'name' => 'textOfLinks',
              'desc' => 'prop_wayfinder.textOfLinks_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'menutitle',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This field will be inserted into the linktext placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'titleOfLinks' => 
            array (
              'name' => 'titleOfLinks',
              'desc' => 'prop_wayfinder.titleOfLinks_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'pagetitle',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'This field will be inserted into the linktitle placeholder.',
              'area' => '',
              'area_trans' => '',
            ),
            'displayStart' => 
            array (
              'name' => 'displayStart',
              'desc' => 'prop_wayfinder.displayStart_desc',
              'type' => 'combo-boolean',
              'options' => '',
              'value' => false,
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Show the document as referenced by startId in the menu.',
              'area' => '',
              'area_trans' => '',
            ),
            'firstClass' => 
            array (
              'name' => 'firstClass',
              'desc' => 'prop_wayfinder.firstClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'first',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the first item at a given menu level.',
              'area' => '',
              'area_trans' => '',
            ),
            'lastClass' => 
            array (
              'name' => 'lastClass',
              'desc' => 'prop_wayfinder.lastClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'last',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the last item at a given menu level.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereClass' => 
            array (
              'name' => 'hereClass',
              'desc' => 'prop_wayfinder.hereClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'active',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the items showing where you are, all the way up the chain.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentClass' => 
            array (
              'name' => 'parentClass',
              'desc' => 'prop_wayfinder.parentClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for menu items that are a container and have children.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowClass' => 
            array (
              'name' => 'rowClass',
              'desc' => 'prop_wayfinder.rowClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class denoting each output row.',
              'area' => '',
              'area_trans' => '',
            ),
            'outerClass' => 
            array (
              'name' => 'outerClass',
              'desc' => 'prop_wayfinder.outerClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the outer template.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerClass' => 
            array (
              'name' => 'innerClass',
              'desc' => 'prop_wayfinder.innerClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the inner template.',
              'area' => '',
              'area_trans' => '',
            ),
            'levelClass' => 
            array (
              'name' => 'levelClass',
              'desc' => 'prop_wayfinder.levelClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class denoting every output row level. The level number will be added to the specified class (level1, level2, level3 etc if you specified "level").',
              'area' => '',
              'area_trans' => '',
            ),
            'selfClass' => 
            array (
              'name' => 'selfClass',
              'desc' => 'prop_wayfinder.selfClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for the current item.',
              'area' => '',
              'area_trans' => '',
            ),
            'webLinkClass' => 
            array (
              'name' => 'webLinkClass',
              'desc' => 'prop_wayfinder.webLinkClass_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'CSS class for weblink items.',
              'area' => '',
              'area_trans' => '',
            ),
            'outerTpl' => 
            array (
              'name' => 'outerTpl',
              'desc' => 'prop_wayfinder.outerTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the outer most container; if not included, a string including "<ul>[[+wf.wrapper]]</ul>" is assumed.',
              'area' => '',
              'area_trans' => '',
            ),
            'rowTpl' => 
            array (
              'name' => 'rowTpl',
              'desc' => 'prop_wayfinder.rowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the regular row items.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentRowTpl' => 
            array (
              'name' => 'parentRowTpl',
              'desc' => 'prop_wayfinder.parentRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for any Resource that is a container and has children. Remember the [wf.wrapper] placeholder to output the children documents.',
              'area' => '',
              'area_trans' => '',
            ),
            'parentRowHereTpl' => 
            array (
              'name' => 'parentRowHereTpl',
              'desc' => 'prop_wayfinder.parentRowHereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource if it is a container and has children. Remember the [wf.wrapper] placeholder to output the children documents.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereTpl' => 
            array (
              'name' => 'hereTpl',
              'desc' => 'prop_wayfinder.hereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerTpl' => 
            array (
              'name' => 'innerTpl',
              'desc' => 'prop_wayfinder.innerTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for each submenu. If no innerTpl is specified the outerTpl is used in its place.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerRowTpl' => 
            array (
              'name' => 'innerRowTpl',
              'desc' => 'prop_wayfinder.innerRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the row items in a subfolder.',
              'area' => '',
              'area_trans' => '',
            ),
            'innerHereTpl' => 
            array (
              'name' => 'innerHereTpl',
              'desc' => 'prop_wayfinder.innerHereTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the current Resource if it is in a subfolder.',
              'area' => '',
              'area_trans' => '',
            ),
            'activeParentRowTpl' => 
            array (
              'name' => 'activeParentRowTpl',
              'desc' => 'prop_wayfinder.activeParentRowTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for items that are containers, have children and are currently active in the tree.',
              'area' => '',
              'area_trans' => '',
            ),
            'categoryFoldersTpl' => 
            array (
              'name' => 'categoryFoldersTpl',
              'desc' => 'prop_wayfinder.categoryFoldersTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for category folders. Category folders are determined by setting the template to blank or by setting the link attributes field to rel="category".',
              'area' => '',
              'area_trans' => '',
            ),
            'startItemTpl' => 
            array (
              'name' => 'startItemTpl',
              'desc' => 'prop_wayfinder.startItemTpl_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Name of the chunk containing the template for the start item, if enabled via the &displayStart parameter. Note: the default template shows the start item but does not link it. If you do not need a link, a class can be applied to the default template using the parameter &firstClass=`className`.',
              'area' => '',
              'area_trans' => '',
            ),
            'permissions' => 
            array (
              'name' => 'permissions',
              'desc' => 'prop_wayfinder.permissions_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => 'list',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Will check for a permission on the Resource. Defaults to "list" - set to blank to skip normal permissions checks.',
              'area' => '',
              'area_trans' => '',
            ),
            'hereId' => 
            array (
              'name' => 'hereId',
              'desc' => 'prop_wayfinder.hereId_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. If set, will change the "here" Resource to this ID. Defaults to the currently active Resource.',
              'area' => '',
              'area_trans' => '',
            ),
            'where' => 
            array (
              'name' => 'where',
              'desc' => 'prop_wayfinder.where_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. A JSON object for where conditions for all items selected in the menu.',
              'area' => '',
              'area_trans' => '',
            ),
            'templates' => 
            array (
              'name' => 'templates',
              'desc' => 'prop_wayfinder.templates_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. A comma-separated list of Template IDs to restrict selected Resources to.',
              'area' => '',
              'area_trans' => '',
            ),
            'previewUnpublished' => 
            array (
              'name' => 'previewUnpublished',
              'desc' => 'prop_wayfinder.previewunpublished_desc',
              'type' => 'textfield',
              'options' => '',
              'value' => '',
              'lexicon' => 'wayfinder:properties',
              'desc_trans' => 'Optional. If set to Yes, if you are logged into the mgr and have the view_unpublished permission, it will allow previewing of unpublished resources in your menus in the front-end.',
              'area' => '',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * Wayfinder Snippet to build site navigation menus
 *
 * Totally refactored from original DropMenu nav builder to make it easier to
 * create custom navigation by using chunks as output templates. By using
 * templates, many of the paramaters are no longer needed for flexible output
 * including tables, unordered- or ordered-lists (ULs or OLs), definition lists
 * (DLs) or in any other format you desire.
 *
 * @version 2.1.1-beta5
 * @author Garry Nutting (collabpad.com)
 * @author Kyle Jaebker (muddydogpaws.com)
 * @author Ryan Thrash (modx.com)
 * @author Shaun McCormick (modx.com)
 * @author Jason Coward (modx.com)
 *
 * @example [[Wayfinder? &startId=`0`]]
 *
 * @var modX $modx
 * @var array $scriptProperties
 * 
 * @package wayfinder
 */
$wayfinder_base = $modx->getOption(\'wayfinder.core_path\',$scriptProperties,$modx->getOption(\'core_path\').\'components/wayfinder/\');

/* include a custom config file if specified */
if (isset($scriptProperties[\'config\'])) {
    $scriptProperties[\'config\'] = str_replace(\'../\',\'\',$scriptProperties[\'config\']);
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/\'.$scriptProperties[\'config\'].\'.config.php\';
} else {
    $scriptProperties[\'config\'] = $wayfinder_base.\'configs/default.config.php\';
}
if (file_exists($scriptProperties[\'config\'])) {
    include $scriptProperties[\'config\'];
}

/* include wayfinder class */
include_once $wayfinder_base.\'wayfinder.class.php\';
if (!$modx->loadClass(\'Wayfinder\',$wayfinder_base,true,true)) {
    return \'error: Wayfinder class not found\';
}
$wf = new Wayfinder($modx,$scriptProperties);

/* get user class definitions
 * TODO: eventually move these into config parameters */
$wf->_css = array(
    \'first\' => isset($firstClass) ? $firstClass : \'\',
    \'last\' => isset($lastClass) ? $lastClass : \'last\',
    \'here\' => isset($hereClass) ? $hereClass : \'active\',
    \'parent\' => isset($parentClass) ? $parentClass : \'\',
    \'row\' => isset($rowClass) ? $rowClass : \'\',
    \'outer\' => isset($outerClass) ? $outerClass : \'\',
    \'inner\' => isset($innerClass) ? $innerClass : \'\',
    \'level\' => isset($levelClass) ? $levelClass: \'\',
    \'self\' => isset($selfClass) ? $selfClass : \'\',
    \'weblink\' => isset($webLinkClass) ? $webLinkClass : \'\'
);

/* get user templates
 * TODO: eventually move these into config parameters */
$wf->_templates = array(
    \'outerTpl\' => isset($outerTpl) ? $outerTpl : \'\',
    \'rowTpl\' => isset($rowTpl) ? $rowTpl : \'\',
    \'parentRowTpl\' => isset($parentRowTpl) ? $parentRowTpl : \'\',
    \'parentRowHereTpl\' => isset($parentRowHereTpl) ? $parentRowHereTpl : \'\',
    \'hereTpl\' => isset($hereTpl) ? $hereTpl : \'\',
    \'innerTpl\' => isset($innerTpl) ? $innerTpl : \'\',
    \'innerRowTpl\' => isset($innerRowTpl) ? $innerRowTpl : \'\',
    \'innerHereTpl\' => isset($innerHereTpl) ? $innerHereTpl : \'\',
    \'activeParentRowTpl\' => isset($activeParentRowTpl) ? $activeParentRowTpl : \'\',
    \'categoryFoldersTpl\' => isset($categoryFoldersTpl) ? $categoryFoldersTpl : \'\',
    \'startItemTpl\' => isset($startItemTpl) ? $startItemTpl : \'\'
);

/* process Wayfinder */
$output = $wf->run();
if ($wf->_config[\'debug\']) {
    $output .= $wf->renderDebugOutput();
}

/* output results */
if ($wf->_config[\'ph\']) {
    $modx->setPlaceholder($wf->_config[\'ph\'],$output);
} else {
    return $output;
}',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
        ),
      ),
      'pdoResources' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'pdoResources',
          'description' => '',
          'editor_type' => 0,
          'category' => 1,
          'cache_type' => 0,
          'snippet' => '/** @var array $scriptProperties */
/** @var modX $modx */
if (isset($parents) && $parents === \'\') {
    $scriptProperties[\'parents\'] = $modx->resource->id;
}
if (!empty($returnIds)) {
    $scriptProperties[\'return\'] = $return = \'ids\';
} elseif (!isset($return)) {
    $scriptProperties[\'return\'] = $return = \'chunks\';
}

// Adding extra parameters into special place so we can put them in a results
/** @var modSnippet $snippet */
$additionalPlaceholders = $properties = [];
if (isset($this) && $this instanceof modSnippet && $this->get(\'properties\')) {
    $properties = $this->get(\'properties\');
}
elseif ($snippet = $modx->getObject(\'modSnippet\', [\'name\' => \'pdoResources\'])) {
    $properties = $snippet->get(\'properties\');
}
if (!empty($properties)) {
    foreach ($scriptProperties as $k => $v) {
        if (!isset($properties[$k])) {
            $additionalPlaceholders[$k] = $v;
        }
    }
}
$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;

/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->addTime(\'pdoTools loaded\');
$output = $pdoFetch->run();

$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
    $log .= \'<pre class="pdoResourcesLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

// Return output
if (!empty($returnIds)) {
    $modx->setPlaceholder(\'pdoResources.log\', $log);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
} elseif ($return === \'data\') {
    return $output;
} elseif (!empty($toSeparatePlaceholders)) {
    $output[\'log\'] = $log;
    $modx->setPlaceholders($output, $toSeparatePlaceholders);
} else {
    $output .= $log;

    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {
        $output = $pdoFetch->getChunk($tplWrapper, array_merge($additionalPlaceholders, [\'output\' => $output]),
            $pdoFetch->config[\'fastMode\']);
    }

    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
}',
          'locked' => false,
          'properties' => 
          array (
            'tpl' => 
            array (
              'name' => 'tpl',
              'desc' => 'pdotools_prop_tpl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для оформления ресурса. Если не указан, то содержимое полей ресурса будет распечатано на экран.',
              'area_trans' => '',
            ),
            'returnIds' => 
            array (
              'name' => 'returnIds',
              'desc' => 'pdotools_prop_returnIds',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Возвращать строку со списком id ресурсов, вместо оформленных результатов.',
              'area_trans' => '',
            ),
            'showLog' => 
            array (
              'name' => 'showLog',
              'desc' => 'pdotools_prop_showLog',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать дополнительную информацию о работе сниппета. Только для авторизованных в контекте "mgr".',
              'area_trans' => '',
            ),
            'fastMode' => 
            array (
              'name' => 'fastMode',
              'desc' => 'pdotools_prop_fastMode',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Быстрый режим обработки чанков. Все необработанные теги (условия, сниппеты и т.п.) будут вырезаны.',
              'area_trans' => '',
            ),
            'sortby' => 
            array (
              'name' => 'sortby',
              'desc' => 'pdotools_prop_sortby',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'publishedon',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Любое поле ресурса для сортировки, включая ТВ параметр, если он указан в параметре "includeTVs". Можно указывать JSON строку с массивом нескольких полей. Для случайно сортировки укажите "RAND()"',
              'area_trans' => '',
            ),
            'sortbyTV' => 
            array (
              'name' => 'sortbyTV',
              'desc' => 'pdotools_prop_sortbyTV',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Сортировка по ТВ параметру. Если он не указан в &includeTVs, то будет подключен автоматически.',
              'area_trans' => '',
            ),
            'sortbyTVType' => 
            array (
              'name' => 'sortbyTVType',
              'desc' => 'pdotools_prop_sortbyTVType',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Тип сортировки по ТВ параметру. Возможные варианты: string, integer, decimal и datetime. Если пусто, то ТВ будет отсортирован в зависимости от его типа: как текст, число или дата.',
              'area_trans' => '',
            ),
            'sortdir' => 
            array (
              'name' => 'sortdir',
              'desc' => 'pdotools_prop_sortdir',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ASC',
                  'value' => 'ASC',
                  'name' => 'ASC',
                ),
                1 => 
                array (
                  'text' => 'DESC',
                  'value' => 'DESC',
                  'name' => 'DESC',
                ),
              ),
              'value' => 'DESC',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Направление сортировки: по убыванию или возрастанию.',
              'area_trans' => '',
            ),
            'sortdirTV' => 
            array (
              'name' => 'sortdirTV',
              'desc' => 'pdotools_prop_sortdirTV',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'ASC',
                  'value' => 'ASC',
                  'name' => 'ASC',
                ),
                1 => 
                array (
                  'text' => 'DESC',
                  'value' => 'DESC',
                  'name' => 'DESC',
                ),
              ),
              'value' => 'ASC',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Направление сортировки ТВ: по убыванию или возрастанию. Если не указан, то будет равен параметру &sortdir.',
              'area_trans' => '',
            ),
            'limit' => 
            array (
              'name' => 'limit',
              'desc' => 'pdotools_prop_limit',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 10,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ограничение количества результатов выборки. Можно использовать "0".',
              'area_trans' => '',
            ),
            'offset' => 
            array (
              'name' => 'offset',
              'desc' => 'pdotools_prop_offset',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 0,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Пропуск результатов от начала.',
              'area_trans' => '',
            ),
            'depth' => 
            array (
              'name' => 'depth',
              'desc' => 'pdotools_prop_depth',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => 10,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Глубина поиска дочерних ресурсов от родителя.',
              'area_trans' => '',
            ),
            'outputSeparator' => 
            array (
              'name' => 'outputSeparator',
              'desc' => 'pdotools_prop_outputSeparator',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '
',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Необязательная строка для разделения результатов работы.',
              'area_trans' => '',
            ),
            'toPlaceholder' => 
            array (
              'name' => 'toPlaceholder',
              'desc' => 'pdotools_prop_toPlaceholder',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем, вместо вывода не экран.',
              'area_trans' => '',
            ),
            'parents' => 
            array (
              'name' => 'parents',
              'desc' => 'pdotools_prop_parents',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список родителей, через запятую, для поиска результатов. По умолчанию выборка ограничена текущим родителем. Если поставить 0 - выборка не ограничивается. Если id родителя начинается с дефиса, он и его потомки исключается из выборки.',
              'area_trans' => '',
            ),
            'includeContent' => 
            array (
              'name' => 'includeContent',
              'desc' => 'pdotools_prop_includeContent',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включаем поле "content" в выборку.',
              'area_trans' => '',
            ),
            'includeTVs' => 
            array (
              'name' => 'includeTVs',
              'desc' => 'pdotools_prop_includeTVs',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ТВ параметров для выборки, через запятую. Например: "action,time" дадут плейсхолдеры [[+action]] и [[+time]].',
              'area_trans' => '',
            ),
            'prepareTVs' => 
            array (
              'name' => 'prepareTVs',
              'desc' => 'pdotools_prop_prepareTVs',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '1',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ТВ параметров, которые нужно подготовить перед выводом. По умолчанию, установлено в "1", что означает подготовку всех ТВ, указанных в "&includeTVs=``"',
              'area_trans' => '',
            ),
            'processTVs' => 
            array (
              'name' => 'processTVs',
              'desc' => 'pdotools_prop_processTVs',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ТВ параметров, которые нужно обработать перед выводом. Если установить в "1" - будут обработаны все ТВ, указанные в "&includeTVs=``". По умолчанию параметр пуст.',
              'area_trans' => '',
            ),
            'tvPrefix' => 
            array (
              'name' => 'tvPrefix',
              'desc' => 'pdotools_prop_tvPrefix',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'tv.',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Префикс для ТВ параметров.',
              'area_trans' => '',
            ),
            'tvFilters' => 
            array (
              'name' => 'tvFilters',
              'desc' => 'pdotools_prop_tvFilters',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список фильтров по ТВ, с разделителями AND и OR. Разделитель, указанный в параметре "&tvFiltersOrDelimiter" представляет логическое условие OR и по нему условия группируются в первую очередь.  Внутри каждой группы вы можете задать список значений, разделив их "&tvFiltersAndDelimiter". Поиск значений может проводиться в каком-то конкретном ТВ, если он указан ("myTV==value"), или в любом ("value"). Пример вызова: "&tvFilters=`filter2==one,filter1==bar%||filter1==foo`". <br />Обратите внимание: фильтрация использует оператор LIKE и знак "%" является метасимволом. <br />И еще: Поиск идёт по значениям, которые физически находятся в БД, то есть, сюда не подставляются значения по умолчанию из настроек ТВ.',
              'area_trans' => '',
            ),
            'tvFiltersAndDelimiter' => 
            array (
              'name' => 'tvFiltersAndDelimiter',
              'desc' => 'pdotools_prop_tvFiltersAndDelimiter',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => ',',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Разделитель для условий AND в параметре "&tvFilters". По умолчанию: ",".',
              'area_trans' => '',
            ),
            'tvFiltersOrDelimiter' => 
            array (
              'name' => 'tvFiltersOrDelimiter',
              'desc' => 'pdotools_prop_tvFiltersOrDelimiter',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '||',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Разделитель для условий OR в параметре "&tvFilters". По умолчанию: "||".',
              'area_trans' => '',
            ),
            'where' => 
            array (
              'name' => 'where',
              'desc' => 'pdotools_prop_where',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Массив дополнительных параметров выборки, закодированный в JSON.',
              'area_trans' => '',
            ),
            'showUnpublished' => 
            array (
              'name' => 'showUnpublished',
              'desc' => 'pdotools_prop_showUnpublished',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать неопубликованные ресурсы.',
              'area_trans' => '',
            ),
            'showDeleted' => 
            array (
              'name' => 'showDeleted',
              'desc' => 'pdotools_prop_showDeleted',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать удалённые ресурсы.',
              'area_trans' => '',
            ),
            'showHidden' => 
            array (
              'name' => 'showHidden',
              'desc' => 'pdotools_prop_showHidden',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => true,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Показывать ресурсы, скрытые в меню.',
              'area_trans' => '',
            ),
            'hideContainers' => 
            array (
              'name' => 'hideContainers',
              'desc' => 'pdotools_prop_hideContainers',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Отключает вывод контейнеров, то есть, ресурсов с isfolder = 1.',
              'area_trans' => '',
            ),
            'context' => 
            array (
              'name' => 'context',
              'desc' => 'pdotools_prop_context',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Ограничение выборки по контексту ресурсов.',
              'area_trans' => '',
            ),
            'idx' => 
            array (
              'name' => 'idx',
              'desc' => 'pdotools_prop_idx',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Вы можете указать стартовый номер итерации вывода результатов.',
              'area_trans' => '',
            ),
            'first' => 
            array (
              'name' => 'first',
              'desc' => 'pdotools_prop_first',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Номер первой итерации вывода результатов.',
              'area_trans' => '',
            ),
            'last' => 
            array (
              'name' => 'last',
              'desc' => 'pdotools_prop_last',
              'type' => 'numberfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Номер последней итерации вывода результатов. По умолчанию он рассчитается автоматически, по формуле (total + first - 1).',
              'area_trans' => '',
            ),
            'tplFirst' => 
            array (
              'name' => 'tplFirst',
              'desc' => 'pdotools_prop_tplFirst',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для первого ресурса в результатах.',
              'area_trans' => '',
            ),
            'tplLast' => 
            array (
              'name' => 'tplLast',
              'desc' => 'pdotools_prop_tplLast',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для последнего ресурса в результатах.',
              'area_trans' => '',
            ),
            'tplOdd' => 
            array (
              'name' => 'tplOdd',
              'desc' => 'pdotools_prop_tplOdd',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя чанка для каждого чётного ресурса (хоть "odd" значит "нечётный", работает для чётных ресурсов).',
              'area_trans' => '',
            ),
            'tplWrapper' => 
            array (
              'name' => 'tplWrapper',
              'desc' => 'pdotools_prop_tplWrapper',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Чанк-обёртка, для заворачивания всех результатов. Понимает один плейсхолдер: [[+output]]. Не работает вместе с параметром "toSeparatePlaceholders".',
              'area_trans' => '',
            ),
            'wrapIfEmpty' => 
            array (
              'name' => 'wrapIfEmpty',
              'desc' => 'pdotools_prop_wrapIfEmpty',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Включает вывод чанка-обертки (tplWrapper) даже если результатов нет.',
              'area_trans' => '',
            ),
            'totalVar' => 
            array (
              'name' => 'totalVar',
              'desc' => 'pdotools_prop_totalVar',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'total',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Имя плейсхолдера для сохранения общего количества результатов.',
              'area_trans' => '',
            ),
            'resources' => 
            array (
              'name' => 'resources',
              'desc' => 'pdotools_prop_resources',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список ресурсов, через запятую, для вывода в результатах. Если id ресурса начинается с дефиса, этот ресурс исключается из выборки.',
              'area_trans' => '',
            ),
            'tplCondition' => 
            array (
              'name' => 'tplCondition',
              'desc' => 'pdotools_prop_tplCondition',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Поле ресурса, из которого будет получено значение для выбора чанка по условию в "conditionalTpls".',
              'area_trans' => '',
            ),
            'tplOperator' => 
            array (
              'name' => 'tplOperator',
              'desc' => 'pdotools_prop_tplOperator',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'text' => 'is equal to',
                  'value' => '==',
                  'name' => 'is equal to',
                ),
                1 => 
                array (
                  'text' => 'is not equal to',
                  'value' => '!=',
                  'name' => 'is not equal to',
                ),
                2 => 
                array (
                  'text' => 'less than',
                  'value' => '<',
                  'name' => 'less than',
                ),
                3 => 
                array (
                  'text' => 'less than or equal to',
                  'value' => '<=',
                  'name' => 'less than or equal to',
                ),
                4 => 
                array (
                  'text' => 'greater than or equal to',
                  'value' => '>=',
                  'name' => 'greater than or equal to',
                ),
                5 => 
                array (
                  'text' => 'is empty',
                  'value' => 'empty',
                  'name' => 'is empty',
                ),
                6 => 
                array (
                  'text' => 'is not empty',
                  'value' => '!empty',
                  'name' => 'is not empty',
                ),
                7 => 
                array (
                  'text' => 'is null',
                  'value' => 'null',
                  'name' => 'is null',
                ),
                8 => 
                array (
                  'text' => 'is in array',
                  'value' => 'inarray',
                  'name' => 'is in array',
                ),
                9 => 
                array (
                  'text' => 'is between',
                  'value' => 'between',
                  'name' => 'is between',
                ),
              ),
              'value' => '==',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Необязательный оператор для проведения сравнения поля ресурса в "tplCondition" с массивом значений и чанков в "conditionalTpls".',
              'area_trans' => '',
            ),
            'conditionalTpls' => 
            array (
              'name' => 'conditionalTpls',
              'desc' => 'pdotools_prop_conditionalTpls',
              'type' => 'textarea',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'JSON строка с массивом, у которого в ключах указано то, с чем будет сравниваться "tplCondition", а в значениях - чанки, которые будут использованы для вывода, если сравнение будет успешно. Оператор сравнения указывается в "tplOperator". Для операторов типа "isempty" можно использовать массив без ключей.',
              'area_trans' => '',
            ),
            'select' => 
            array (
              'name' => 'select',
              'desc' => 'pdotools_prop_select',
              'type' => 'textarea',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список полей для выборки, через запятую. Можно указывать JSON строку с массивом, например {"modResource":"id,pagetitle,content"}.',
              'area_trans' => '',
            ),
            'toSeparatePlaceholders' => 
            array (
              'name' => 'toSeparatePlaceholders',
              'desc' => 'pdotools_prop_toSeparatePlaceholders',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Если вы укажете слово в этом параметре, то ВСЕ результаты будут выставлены в разные плейсхолдеры, начинающиеся с этого слова и заканчивающиеся порядковым номером строки, от нуля. Например, указав в параметре "myPl", вы получите плейсхолдеры [[+myPl0]], [[+myPl1]] и т.д.',
              'area_trans' => '',
            ),
            'loadModels' => 
            array (
              'name' => 'loadModels',
              'desc' => 'pdotools_prop_loadModels',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Список компонентов, через запятую, чьи модели нужно загрузить для построения запроса. Например: "&loadModels=`ms2gallery,msearch2`".',
              'area_trans' => '',
            ),
            'scheme' => 
            array (
              'name' => 'scheme',
              'desc' => 'pdotools_prop_scheme',
              'type' => 'list',
              'options' => 
              array (
                0 => 
                array (
                  'value' => '',
                  'text' => 'System default',
                  'name' => 'System default',
                ),
                1 => 
                array (
                  'value' => -1,
                  'text' => '-1 (relative to site_url)',
                  'name' => '-1 (relative to site_url)',
                ),
                2 => 
                array (
                  'value' => 'full',
                  'text' => 'full (absolute, prepended with site_url)',
                  'name' => 'full (absolute, prepended with site_url)',
                ),
                3 => 
                array (
                  'value' => 'abs',
                  'text' => 'abs (absolute, prepended with base_url)',
                  'name' => 'abs (absolute, prepended with base_url)',
                ),
                4 => 
                array (
                  'value' => 'http',
                  'text' => 'http (absolute, forced to http scheme)',
                  'name' => 'http (absolute, forced to http scheme)',
                ),
                5 => 
                array (
                  'value' => 'https',
                  'text' => 'https (absolute, forced to https scheme)',
                  'name' => 'https (absolute, forced to https scheme)',
                ),
              ),
              'value' => '',
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Схема формирования ссылок: "uri" для подстановки поля uri документа (очень быстро) или параметр для modX::makeUrl().',
              'area_trans' => '',
            ),
            'useWeblinkUrl' => 
            array (
              'name' => 'useWeblinkUrl',
              'desc' => 'pdotools_prop_useWeblinkUrl',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'pdotools:properties',
              'area' => '',
              'desc_trans' => 'Генерировать ссылку с учетом класса ресурса.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => 'core/components/pdotools/elements/snippets/snippet.pdoresources.php',
          'content' => '/** @var array $scriptProperties */
/** @var modX $modx */
if (isset($parents) && $parents === \'\') {
    $scriptProperties[\'parents\'] = $modx->resource->id;
}
if (!empty($returnIds)) {
    $scriptProperties[\'return\'] = $return = \'ids\';
} elseif (!isset($return)) {
    $scriptProperties[\'return\'] = $return = \'chunks\';
}

// Adding extra parameters into special place so we can put them in a results
/** @var modSnippet $snippet */
$additionalPlaceholders = $properties = [];
if (isset($this) && $this instanceof modSnippet && $this->get(\'properties\')) {
    $properties = $this->get(\'properties\');
}
elseif ($snippet = $modx->getObject(\'modSnippet\', [\'name\' => \'pdoResources\'])) {
    $properties = $snippet->get(\'properties\');
}
if (!empty($properties)) {
    foreach ($scriptProperties as $k => $v) {
        if (!isset($properties[$k])) {
            $additionalPlaceholders[$k] = $v;
        }
    }
}
$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;

/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components/pdotools/model/\', true);
if ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {
    $pdoFetch = new $pdoClass($modx, $scriptProperties);
} else {
    return false;
}
$pdoFetch->addTime(\'pdoTools loaded\');
$output = $pdoFetch->run();

$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
    $log .= \'<pre class="pdoResourcesLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

// Return output
if (!empty($returnIds)) {
    $modx->setPlaceholder(\'pdoResources.log\', $log);
    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
} elseif ($return === \'data\') {
    return $output;
} elseif (!empty($toSeparatePlaceholders)) {
    $output[\'log\'] = $log;
    $modx->setPlaceholders($output, $toSeparatePlaceholders);
} else {
    $output .= $log;

    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {
        $output = $pdoFetch->getChunk($tplWrapper, array_merge($additionalPlaceholders, [\'output\' => $output]),
            $pdoFetch->config[\'fastMode\']);
    }

    if (!empty($toPlaceholder)) {
        $modx->setPlaceholder($toPlaceholder, $output);
    } else {
        return $output;
    }
}',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'removeSlashes' => 
      array (
        'fields' => 
        array (
          'id' => 39,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'removeSlashes',
          'description' => '',
          'editor_type' => 0,
          'category' => 0,
          'cache_type' => 0,
          'snippet' => 'return substr($url, 2, strlen($url)-2);',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => 'return substr($url, 2, strlen($url)-2);',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modTemplateVar' => 
    array (
      'isRented' => 
      array (
        'fields' => 
        array (
          'id' => 14,
          'source' => 1,
          'property_preprocess' => false,
          'type' => 'checkbox',
          'name' => 'isRented',
          'caption' => 'Помещение занято',
          'description' => '',
          'editor_type' => 0,
          'category' => 6,
          'locked' => false,
          'elements' => 'да==rented',
          'rank' => 0,
          'display' => 'default',
          'default_text' => '',
          'properties' => 
          array (
          ),
          'input_properties' => 
          array (
            'allowBlank' => 'true',
            'columns' => '1',
          ),
          'output_properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'logo' => 
      array (
        'fields' => 
        array (
          'id' => 9,
          'source' => 2,
          'property_preprocess' => false,
          'type' => 'image',
          'name' => 'logo',
          'caption' => 'Логотип',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'locked' => false,
          'elements' => '',
          'rank' => 3,
          'display' => 'default',
          'default_text' => '',
          'properties' => 
          array (
          ),
          'input_properties' => 
          array (
            'allowBlank' => 'true',
          ),
          'output_properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 2,
          'name' => 'Uploads',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
            'basePath' => 
            array (
              'name' => 'basePath',
              'desc' => 'prop_file.basePath_desc',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '/img/renters/',
              'lexicon' => 'core:source',
            ),
            'baseUrl' => 
            array (
              'name' => 'baseUrl',
              'desc' => 'prop_file.baseUrl_desc',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '/img/renters/',
              'lexicon' => 'core:source',
            ),
          ),
          'is_stream' => true,
        ),
      ),
      'name' => 
      array (
        'fields' => 
        array (
          'id' => 16,
          'source' => 1,
          'property_preprocess' => false,
          'type' => 'text',
          'name' => 'name',
          'caption' => 'Наименование организации',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'locked' => false,
          'elements' => '',
          'rank' => 0,
          'display' => 'default',
          'default_text' => '',
          'properties' => 
          array (
          ),
          'input_properties' => 
          array (
            'allowBlank' => 'true',
            'minLength' => '',
            'maxLength' => '',
            'regex' => '',
            'regexText' => '',
          ),
          'output_properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '',
        ),
        'policies' => 
        array (
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
  ),
);